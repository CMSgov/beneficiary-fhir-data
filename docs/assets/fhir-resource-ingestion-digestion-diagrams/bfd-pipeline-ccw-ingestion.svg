<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1070px" preserveAspectRatio="none" style="width:1346px;height:1070px;background:#FFFFFF;" version="1.1" viewBox="0 0 1346 1070" width="1346px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="483" x="433.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="473" x="438.25" y="28.5352">BFD-Pipeline-CCW Ingestion of Beneficiary/Claim Data Sequence</text><rect fill="none" height="264.1055" style="stroke:#000000;stroke-width:1.5;" width="842" x="498.5" y="407.3926"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="104.9766" y2="992.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="288.5" x2="288.5" y1="104.9766" y2="992.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="558.5" x2="558.5" y1="104.9766" y2="992.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1053.5" x2="1053.5" y1="104.9766" y2="992.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1241.5" x2="1241.5" y1="104.9766" y2="992.293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1302.5" x2="1302.5" y1="104.9766" y2="992.293"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="12" y="94.0234">ccw</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="5" y="991.293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="12" y="1011.8281">ccw</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="277.5" y="102.0234">s3</text><path d="M270.5,52.4883 C270.5,42.4883 288.5,42.4883 288.5,42.4883 C288.5,42.4883 306.5,42.4883 306.5,52.4883 L306.5,78.4883 C306.5,88.4883 288.5,88.4883 288.5,88.4883 C288.5,88.4883 270.5,88.4883 270.5,78.4883 L270.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M270.5,52.4883 C270.5,62.4883 288.5,62.4883 288.5,62.4883 C288.5,62.4883 306.5,62.4883 306.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="277.5" y="1004.8281">s3</text><path d="M270.5,1017.7813 C270.5,1007.7813 288.5,1007.7813 288.5,1007.7813 C288.5,1007.7813 306.5,1007.7813 306.5,1017.7813 L306.5,1043.7813 C306.5,1053.7813 288.5,1053.7813 288.5,1053.7813 C288.5,1053.7813 270.5,1053.7813 270.5,1043.7813 L270.5,1017.7813 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M270.5,1017.7813 C270.5,1027.7813 288.5,1027.7813 288.5,1027.7813 C288.5,1027.7813 306.5,1027.7813 306.5,1017.7813 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="508.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="515.5" y="94.0234">bfd-pipeline</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="508.5" y="991.293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="515.5" y="1011.8281">bfd-pipeline</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="1023.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="1030.5" y="94.0234">splunk</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="1023.5" y="991.293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="1030.5" y="1011.8281">splunk</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="1217.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1224.5" y="94.0234">slack</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="1217.5" y="991.293"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1224.5" y="1011.8281">slack</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1275.5" y="102.0234">bfd-db</text><path d="M1285,52.4883 C1285,42.4883 1303,42.4883 1303,42.4883 C1303,42.4883 1321,42.4883 1321,52.4883 L1321,78.4883 C1321,88.4883 1303,88.4883 1303,88.4883 C1303,88.4883 1285,88.4883 1285,78.4883 L1285,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1285,52.4883 C1285,62.4883 1303,62.4883 1303,62.4883 C1303,62.4883 1321,62.4883 1321,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1275.5" y="1004.8281">bfd-db</text><path d="M1285,1017.7813 C1285,1007.7813 1303,1007.7813 1303,1007.7813 C1303,1007.7813 1321,1007.7813 1321,1017.7813 L1321,1043.7813 C1321,1053.7813 1303,1053.7813 1303,1053.7813 C1303,1053.7813 1285,1053.7813 1285,1043.7813 L1285,1017.7813 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1285,1017.7813 C1285,1027.7813 1303,1027.7813 1303,1027.7813 C1303,1027.7813 1321,1027.7813 1321,1017.7813 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M877,119.9766 L877,159.9766 L1230,159.9766 L1230,129.9766 L1220,119.9766 L877,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1220,119.9766 L1220,129.9766 L1230,129.9766 L1220,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="883" y="137.5449">Specific Splunk Components:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="887" y="152.8555">forwarders/indexers/search heads/ui/configuration</text><polygon fill="#181818" points="276.5,213.5293,286.5,217.5293,276.5,221.5293,280.5,217.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24.5" x2="282.5" y1="217.5293" y2="217.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="31.5" y="182.166">Timestamped folder with:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="35.5" y="197.4766">RIF files for a resource, manifest.xml</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="35.5" y="212.7871">placed in 'bfd-prod-etl' S3 bucket</text><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="330.5" y1="262.1504" y2="262.1504"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.5" x2="330.5" y1="262.1504" y2="275.1504"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.5" x2="330.5" y1="275.1504" y2="275.1504"/><polygon fill="#181818" points="299.5,271.1504,289.5,275.1504,299.5,279.1504,295.5,275.1504" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="295.5" y="242.0977">Timestamped folder moved to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="299.5" y="257.4082">'Incoming' folder of bucket</text><polygon fill="#181818" points="1041.5,300.4609,1051.5,304.4609,1041.5,308.4609,1045.5,304.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="1047.5" y1="304.4609" y2="304.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="483" x="295.5" y="299.7188">New data discovered by splunk by quereying BFD-pipeline logs every 15 min</text><polygon fill="#181818" points="1229.5,345.082,1239.5,349.082,1229.5,353.082,1233.5,349.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1053.5" x2="1235.5" y1="349.082" y2="349.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1060.5" y="329.0293">Data discover status sent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1064.5" y="344.3398">to #BFD-notices channel</text><polygon fill="#181818" points="299.5,359.082,289.5,363.082,299.5,367.082,295.5,363.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="1240.5" y1="363.082" y2="363.082"/><polygon fill="#181818" points="546.5,388.3926,556.5,392.3926,546.5,396.3926,550.5,392.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="552.5" y1="392.3926" y2="392.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="295.5" y="387.6504">ETL/RIF Loader process triggered</text><path d="M498.5,407.3926 L568.5,407.3926 L568.5,414.7031 L558.5,424.7031 L498.5,424.7031 L498.5,407.3926 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="264.1055" style="stroke:#000000;stroke-width:1.5;" width="842" x="498.5" y="407.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="513.5" y="420.9609">ETL</text><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="600.5" y1="461.3242" y2="461.3242"/><line style="stroke:#181818;stroke-width:1.0;" x1="600.5" x2="600.5" y1="461.3242" y2="474.3242"/><line style="stroke:#181818;stroke-width:1.0;" x1="559.5" x2="600.5" y1="474.3242" y2="474.3242"/><polygon fill="#181818" points="569.5,470.3242,559.5,474.3242,569.5,478.3242,565.5,474.3242" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="565.5" y="441.2715">datasetMonitorListener interface instantiated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="569.5" y="456.582">in CcwRifLoadJob class to manage ETL</text><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="600.5" y1="549.5664" y2="549.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="600.5" x2="600.5" y1="549.5664" y2="562.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="559.5" x2="600.5" y1="562.5664" y2="562.5664"/><polygon fill="#181818" points="569.5,558.5664,559.5,562.5664,569.5,566.5664,565.5,562.5664" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="565.5" y="498.8926">ETL process parses manifest.xml file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="569.5" y="514.2031">for specific resource data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="569.5" y="529.5137">and checks for DB operation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="569.5" y="544.8242">denoted  in manifest i.e. INSERT/UPDATE</text><polygon fill="#181818" points="1291,603.1875,1301,607.1875,1291,611.1875,1295,607.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="1297" y1="607.1875" y2="607.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="565.5" y="587.1348">DB operations applied for resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="569.5" y="602.4453">based on column and rif layout fhir mappings</text><polygon fill="#181818" points="569.5,617.1875,559.5,621.1875,569.5,625.1875,565.5,621.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="563.5" x2="1302" y1="621.1875" y2="621.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="600.5" y1="650.498" y2="650.498"/><line style="stroke:#181818;stroke-width:1.0;" x1="600.5" x2="600.5" y1="650.498" y2="663.498"/><line style="stroke:#181818;stroke-width:1.0;" x1="559.5" x2="600.5" y1="663.498" y2="663.498"/><polygon fill="#181818" points="569.5,659.498,559.5,663.498,569.5,667.498,565.5,663.498" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="565.5" y="645.7559">Process marked as 'complete' and load status is logged</text><polygon fill="#181818" points="1041.5,695.8086,1051.5,699.8086,1041.5,703.8086,1045.5,699.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="1047.5" y1="699.8086" y2="699.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="565.5" y="695.0664">Data load messages in pipeline logs made available for querying by splunk</text><polygon fill="#181818" points="569.5,725.1191,559.5,729.1191,569.5,733.1191,565.5,729.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="1052.5" y1="729.1191" y2="729.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="575.5" y="724.377">Splunk discovers new data load from pipeline logs</text><polygon fill="#181818" points="1041.5,739.1191,1051.5,743.1191,1041.5,747.1191,1045.5,743.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="558.5" x2="1047.5" y1="743.1191" y2="743.1191"/><polygon fill="#181818" points="1229.5,783.7402,1239.5,787.7402,1229.5,791.7402,1233.5,787.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1053.5" x2="1235.5" y1="787.7402" y2="787.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1060.5" y="767.6875">Load status sent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1064.5" y="782.998">to #BFD-notices channel</text><polygon fill="#181818" points="299.5,797.7402,289.5,801.7402,299.5,805.7402,295.5,801.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="1240.5" y1="801.7402" y2="801.7402"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="330.5" y1="846.3613" y2="846.3613"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.5" x2="330.5" y1="846.3613" y2="859.3613"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.5" x2="330.5" y1="859.3613" y2="859.3613"/><polygon fill="#181818" points="299.5,855.3613,289.5,859.3613,299.5,863.3613,295.5,859.3613" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="295.5" y="826.3086">Timestamped folder for resource moved</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="299.5" y="841.6191">from 'Incoming' to the 'Done' folder</text><polygon fill="#181818" points="546.5,899.9824,556.5,903.9824,546.5,907.9824,550.5,903.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288.5" x2="552.5" y1="903.9824" y2="903.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="295.5" y="883.9297">ETL process continues if more</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="299.5" y="899.2402">resources still in 'Incoming' folder</text><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="600.5" y1="933.293" y2="933.293"/><line style="stroke:#181818;stroke-width:1.0;" x1="600.5" x2="600.5" y1="933.293" y2="946.293"/><line style="stroke:#181818;stroke-width:1.0;" x1="559.5" x2="600.5" y1="946.293" y2="946.293"/><polygon fill="#181818" points="569.5,942.293,559.5,946.293,569.5,950.293,565.5,946.293" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="565.5" y="928.5508">datasetMonitorListener interface closed</text><polygon fill="#181818" points="299.5,956.293,289.5,960.293,299.5,964.293,295.5,960.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="557.5" y1="960.293" y2="960.293"/><polygon fill="#181818" points="35.5,970.293,25.5,974.293,35.5,978.293,31.5,974.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="29.5" x2="287.5" y1="974.293" y2="974.293"/><!--MD5=[fa2e93b561ae274cf4f3df3e539d5b21]
@startuml
title BFD-Pipeline-CCW Ingestion of Beneficiary/Claim Data Sequence
participant ccw
database s3
participant "bfd-pipeline"
participant splunk
note over splunk: Specific Splunk Components: \n forwarders/indexers/search heads/ui/configuration
participant slack
database "bfd-db"
ccw -> s3: Timestamped folder with: \n RIF files for a resource, manifest.xml \n placed in 'bfd-prod-etl' S3 bucket  
s3 -> s3: Timestamped folder moved to \n 'Incoming' folder of bucket
s3 -> splunk: New data discovered by splunk by quereying BFD-pipeline logs every 15 min
splunk -> slack: Data discover status sent \n to #BFD-notices channel
slack - -> s3
s3 -> "bfd-pipeline": ETL/RIF Loader process triggered 
group ETL
"bfd-pipeline" -> "bfd-pipeline": datasetMonitorListener interface instantiated \n in CcwRifLoadJob class to manage ETL
"bfd-pipeline" -> "bfd-pipeline": ETL process parses manifest.xml file \n for specific resource data \n and checks for DB operation \n denoted  in manifest i.e. INSERT/UPDATE
"bfd-pipeline" -> "bfd-db": DB operations applied for resource \n based on column and rif layout fhir mappings
"bfd-db" - -> "bfd-pipeline"
"bfd-pipeline" -> "bfd-pipeline": Process marked as 'complete' and load status is logged
end
"bfd-pipeline" -> splunk: Data load messages in pipeline logs made available for querying by splunk
splunk -> "bfd-pipeline": Splunk discovers new data load from pipeline logs
"bfd-pipeline" - -> splunk
splunk -> slack: Load status sent \n to #BFD-notices channel
slack - -> s3
s3 -> s3: Timestamped folder for resource moved \n from 'Incoming' to the 'Done' folder
s3 - -> "bfd-pipeline": ETL process continues if more \n resources still in 'Incoming' folder
"bfd-pipeline" -> "bfd-pipeline": datasetMonitorListener interface closed
"bfd-pipeline" - -> s3
s3- -> ccw
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>