<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="905px" preserveAspectRatio="none" style="width:1002px;height:905px;background:#FFFFFF;" version="1.1" viewBox="0 0 1002 905" width="1002px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="483" x="261" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="473" x="266" y="28.5352">BFD-Pipeline-CCW Ingestion of Beneficiary/Claim Data Sequence</text><rect fill="none" height="264.1055" style="stroke:#000000;stroke-width:1.5;" width="413.5" x="582.5" y="327.4609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="104.9766" y2="826.7402"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="288.5" x2="288.5" y1="104.9766" y2="826.7402"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="558.5" x2="558.5" y1="104.9766" y2="826.7402"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="642.5" x2="642.5" y1="104.9766" y2="826.7402"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="958" x2="958" y1="104.9766" y2="826.7402"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="12" y="94.0234">ccw</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="39" x="5" y="825.7402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="12" y="846.2754">ccw</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="277.5" y="102.0234">s3</text><path d="M270.5,52.4883 C270.5,42.4883 288.5,42.4883 288.5,42.4883 C288.5,42.4883 306.5,42.4883 306.5,52.4883 L306.5,78.4883 C306.5,88.4883 288.5,88.4883 288.5,88.4883 C288.5,88.4883 270.5,88.4883 270.5,78.4883 L270.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M270.5,52.4883 C270.5,62.4883 288.5,62.4883 288.5,62.4883 C288.5,62.4883 306.5,62.4883 306.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="277.5" y="839.2754">s3</text><path d="M270.5,852.2285 C270.5,842.2285 288.5,842.2285 288.5,842.2285 C288.5,842.2285 306.5,842.2285 306.5,852.2285 L306.5,878.2285 C306.5,888.2285 288.5,888.2285 288.5,888.2285 C288.5,888.2285 270.5,888.2285 270.5,878.2285 L270.5,852.2285 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M270.5,852.2285 C270.5,862.2285 288.5,862.2285 288.5,862.2285 C288.5,862.2285 306.5,862.2285 306.5,852.2285 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="534.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="541.5" y="94.0234">slack</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="534.5" y="825.7402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="541.5" y="846.2754">slack</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="592.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="599.5" y="94.0234">bfd-pipeline</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="592.5" y="825.7402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="599.5" y="846.2754">bfd-pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="931" y="102.0234">bfd-db</text><path d="M940.5,52.4883 C940.5,42.4883 958.5,42.4883 958.5,42.4883 C958.5,42.4883 976.5,42.4883 976.5,52.4883 L976.5,78.4883 C976.5,88.4883 958.5,88.4883 958.5,88.4883 C958.5,88.4883 940.5,88.4883 940.5,78.4883 L940.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M940.5,52.4883 C940.5,62.4883 958.5,62.4883 958.5,62.4883 C958.5,62.4883 976.5,62.4883 976.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="931" y="839.2754">bfd-db</text><path d="M940.5,852.2285 C940.5,842.2285 958.5,842.2285 958.5,842.2285 C958.5,842.2285 976.5,842.2285 976.5,852.2285 L976.5,878.2285 C976.5,888.2285 958.5,888.2285 958.5,888.2285 C958.5,888.2285 940.5,888.2285 940.5,878.2285 L940.5,852.2285 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M940.5,852.2285 C940.5,862.2285 958.5,862.2285 958.5,862.2285 C958.5,862.2285 976.5,862.2285 976.5,852.2285 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="276.5,162.9082,286.5,166.9082,276.5,170.9082,280.5,166.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="24.5" x2="282.5" y1="166.9082" y2="166.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="31.5" y="131.5449">Timestamped folder with:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="35.5" y="146.8555">RIF files for a resource, manifest.xml</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="35.5" y="162.166">placed in 'bfd-prod-etl' S3 bucket</text><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="330.5" y1="211.5293" y2="211.5293"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.5" x2="330.5" y1="211.5293" y2="224.5293"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.5" x2="330.5" y1="224.5293" y2="224.5293"/><polygon fill="#181818" points="299.5,220.5293,289.5,224.5293,299.5,228.5293,295.5,224.5293" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="295.5" y="191.4766">Timestamped folder moved to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="299.5" y="206.7871">'Incoming' folder of bucket</text><polygon fill="#181818" points="546.5,265.1504,556.5,269.1504,546.5,273.1504,550.5,269.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="552.5" y1="269.1504" y2="269.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="295.5" y="249.0977">Data discovery status sent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="299.5" y="264.4082">to #BFD-notices channel</text><polygon fill="#181818" points="299.5,279.1504,289.5,283.1504,299.5,287.1504,295.5,283.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="557.5" y1="283.1504" y2="283.1504"/><polygon fill="#181818" points="630.5,308.4609,640.5,312.4609,630.5,316.4609,634.5,312.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="636.5" y1="312.4609" y2="312.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="295.5" y="307.7188">ETL/RIF Loader process triggered</text><path d="M582.5,327.4609 L652.5,327.4609 L652.5,334.7715 L642.5,344.7715 L582.5,344.7715 L582.5,327.4609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="264.1055" style="stroke:#000000;stroke-width:1.5;" width="413.5" x="582.5" y="327.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="597.5" y="341.0293">ETL</text><line style="stroke:#181818;stroke-width:1.0;" x1="642.5" x2="684.5" y1="381.3926" y2="381.3926"/><line style="stroke:#181818;stroke-width:1.0;" x1="684.5" x2="684.5" y1="381.3926" y2="394.3926"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="684.5" y1="394.3926" y2="394.3926"/><polygon fill="#181818" points="653.5,390.3926,643.5,394.3926,653.5,398.3926,649.5,394.3926" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="649.5" y="361.3398">datasetMonitorListener interface instantiated</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="653.5" y="376.6504">in CcwRifLoadJob class to manage ETL</text><line style="stroke:#181818;stroke-width:1.0;" x1="642.5" x2="684.5" y1="469.6348" y2="469.6348"/><line style="stroke:#181818;stroke-width:1.0;" x1="684.5" x2="684.5" y1="469.6348" y2="482.6348"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="684.5" y1="482.6348" y2="482.6348"/><polygon fill="#181818" points="653.5,478.6348,643.5,482.6348,653.5,486.6348,649.5,482.6348" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="649.5" y="418.9609">ETL process parses manifest.xml file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="653.5" y="434.2715">for specific resource data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="653.5" y="449.582">and checks for DB operation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="653.5" y="464.8926">denoted  in manifest i.e. INSERT/UPDATE</text><polygon fill="#181818" points="946.5,523.2559,956.5,527.2559,946.5,531.2559,950.5,527.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="642.5" x2="952.5" y1="527.2559" y2="527.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="649.5" y="507.2031">DB operations applied for resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="653.5" y="522.5137">based on column and rif layout fhir mappings</text><polygon fill="#181818" points="653.5,537.2559,643.5,541.2559,653.5,545.2559,649.5,541.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="647.5" x2="957.5" y1="541.2559" y2="541.2559"/><line style="stroke:#181818;stroke-width:1.0;" x1="642.5" x2="684.5" y1="570.5664" y2="570.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="684.5" x2="684.5" y1="570.5664" y2="583.5664"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="684.5" y1="583.5664" y2="583.5664"/><polygon fill="#181818" points="653.5,579.5664,643.5,583.5664,653.5,587.5664,649.5,583.5664" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="649.5" y="565.8242">Process marked as 'complete'</text><polygon fill="#181818" points="299.5,615.877,289.5,619.877,299.5,623.877,295.5,619.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="293.5" x2="641.5" y1="619.877" y2="619.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="305.5" y="615.1348">Load status sent to S3</text><polygon fill="#181818" points="546.5,660.498,556.5,664.498,546.5,668.498,550.5,664.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="552.5" y1="664.498" y2="664.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="295.5" y="644.4453">Status sent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="299.5" y="659.7559">to #BFD-notices channel</text><polygon fill="#181818" points="299.5,674.498,289.5,678.498,299.5,682.498,295.5,678.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="557.5" y1="678.498" y2="678.498"/><line style="stroke:#181818;stroke-width:1.0;" x1="288.5" x2="330.5" y1="723.1191" y2="723.1191"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.5" x2="330.5" y1="723.1191" y2="736.1191"/><line style="stroke:#181818;stroke-width:1.0;" x1="289.5" x2="330.5" y1="736.1191" y2="736.1191"/><polygon fill="#181818" points="299.5,732.1191,289.5,736.1191,299.5,740.1191,295.5,736.1191" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="295.5" y="703.0664">Timestamped folder for resource moved</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="299.5" y="718.377">from 'Incoming' to the 'Done' folder</text><polygon fill="#181818" points="630.5,776.7402,640.5,780.7402,630.5,784.7402,634.5,780.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="288.5" x2="636.5" y1="780.7402" y2="780.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="295.5" y="760.6875">ETL process continues if more</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="299.5" y="775.998">resources still in 'Incoming' folder</text><polygon fill="#181818" points="299.5,790.7402,289.5,794.7402,299.5,798.7402,295.5,794.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="293.5" x2="641.5" y1="794.7402" y2="794.7402"/><polygon fill="#181818" points="35.5,804.7402,25.5,808.7402,35.5,812.7402,31.5,808.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="29.5" x2="287.5" y1="808.7402" y2="808.7402"/><!--MD5=[e16d2b5c2056c48a10ed8c6600a43ca2]
@startuml
title BFD-Pipeline-CCW Ingestion of Beneficiary/Claim Data Sequence
participant ccw
database s3
participant slack
participant "bfd-pipeline"
database "bfd-db"
ccw -> s3: Timestamped folder with: \n RIF files for a resource, manifest.xml \n placed in 'bfd-prod-etl' S3 bucket  
s3 -> s3: Timestamped folder moved to \n 'Incoming' folder of bucket
s3 -> slack: Data discovery status sent \n to #BFD-notices channel
slack - -> s3
s3 -> "bfd-pipeline": ETL/RIF Loader process triggered
group ETL
"bfd-pipeline" -> "bfd-pipeline": datasetMonitorListener interface instantiated \n in CcwRifLoadJob class to manage ETL
"bfd-pipeline" -> "bfd-pipeline": ETL process parses manifest.xml file \n for specific resource data \n and checks for DB operation \n denoted  in manifest i.e. INSERT/UPDATE
"bfd-pipeline" -> "bfd-db": DB operations applied for resource \n based on column and rif layout fhir mappings
"bfd-db" - -> "bfd-pipeline"
"bfd-pipeline" -> "bfd-pipeline": Process marked as 'complete'
end
"bfd-pipeline" -> s3: Load status sent to S3
s3 -> slack: Status sent \n to #BFD-notices channel
slack - -> s3
s3 -> s3: Timestamped folder for resource moved \n from 'Incoming' to the 'Done' folder
s3 - -> "bfd-pipeline": ETL process continues if more \n resources still in 'Incoming' folder
"bfd-pipeline" - -> s3
s3- -> ccw
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>