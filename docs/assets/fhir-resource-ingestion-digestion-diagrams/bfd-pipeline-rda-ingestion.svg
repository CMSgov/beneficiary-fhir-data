<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="856px" preserveAspectRatio="none" style="width:1062px;height:856px;background:#FFFFFF;" version="1.1" viewBox="0 0 1062 856" width="1062px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="605" x="229.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="595" x="234.75" y="28.5352">BFD-Pipeline-RDA-GRPC Ingestion of Partially Adjudicated Claims Data Sequence</text><rect fill="none" height="338.416" style="stroke:#000000;stroke-width:1.5;" width="1002.5" x="53" y="172.5977"/><rect fill="none" height="134.1973" style="stroke:#000000;stroke-width:1.5;" width="500.5" x="555" y="583.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="96" x2="96" y1="104.9766" y2="778.1426"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="615" x2="615" y1="104.9766" y2="778.1426"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1017.5" x2="1017.5" y1="104.9766" y2="778.1426"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="63" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="70" y="94.0234">rda-api</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="63" y="777.1426"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="70" y="797.6777">rda-api</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="565" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="572" y="94.0234">bfd-pipeline</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="565" y="777.1426"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="572" y="797.6777">bfd-pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="990.5" y="102.0234">bfd-db</text><path d="M1000,52.4883 C1000,42.4883 1018,42.4883 1018,42.4883 C1018,42.4883 1036,42.4883 1036,52.4883 L1036,78.4883 C1036,88.4883 1018,88.4883 1018,88.4883 C1018,88.4883 1000,88.4883 1000,78.4883 L1000,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1000,52.4883 C1000,62.4883 1018,62.4883 1018,62.4883 C1018,62.4883 1036,62.4883 1036,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="990.5" y="790.6777">bfd-db</text><path d="M1000,803.6309 C1000,793.6309 1018,793.6309 1018,793.6309 C1018,793.6309 1036,793.6309 1036,803.6309 L1036,829.6309 C1036,839.6309 1018,839.6309 1018,839.6309 C1018,839.6309 1000,839.6309 1000,829.6309 L1000,803.6309 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1000,803.6309 C1000,813.6309 1018,813.6309 1018,813.6309 C1018,813.6309 1036,813.6309 1036,803.6309 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M5,119.9766 L5,159.9766 L187,159.9766 L187,129.9766 L177,119.9766 L5,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M177,119.9766 L177,129.9766 L187,129.9766 L177,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="11" y="137.5449">Runs every 5 min in prod</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="15" y="152.8555">1 hr in test</text><path d="M53,172.5977 L182,172.5977 L182,179.9082 L172,189.9082 L53,189.9082 L53,172.5977 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="338.416" style="stroke:#000000;stroke-width:1.5;" width="1002.5" x="53" y="172.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84" x="68" y="186.166">Initialization</text><polygon fill="#181818" points="107,207.2188,97,211.2188,107,215.2188,103,211.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="211.2188" y2="211.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="113" y="206.4766">Smoke test to determine connectivity</text><polygon fill="#181818" points="603,221.2188,613,225.2188,603,229.2188,607,225.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96" x2="609" y1="225.2188" y2="225.2188"/><polygon fill="#181818" points="107,265.8398,97,269.8398,107,273.8398,103,269.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="269.8398" y2="269.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="113" y="249.7871">Dead Letter Queue (DLQ) Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="117" y="265.0977">Read failed claims from DLQ table</text><polygon fill="#181818" points="603,279.8398,613,283.8398,603,287.8398,607,283.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96" x2="609" y1="283.8398" y2="283.8398"/><polygon fill="#181818" points="107,339.7715,97,343.7715,107,347.7715,103,343.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="343.7715" y2="343.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="113" y="308.4082">Dead Letter Queue (DLQ) Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="117" y="323.7188">For each failed claim, process each claim individually</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="117" y="339.0293">via the Process 'DLQGrpcRdaSource' job</text><polygon fill="#181818" points="603,353.7715,613,357.7715,603,361.7715,607,357.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="96" x2="609" y1="357.7715" y2="357.7715"/><polygon fill="#181818" points="107,398.3926,97,402.3926,107,406.3926,103,402.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="402.3926" y2="402.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="113" y="382.3398">Dead Letter Queue (DLQ) Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="117" y="397.6504">Update error state in db for each claim as RESOLVED/OBSOLETE</text><polygon fill="#181818" points="603,412.3926,613,416.3926,603,420.3926,607,416.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96" x2="609" y1="416.3926" y2="416.3926"/><polygon fill="#181818" points="107,441.7031,97,445.7031,107,449.7031,103,445.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="445.7031" y2="445.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="495" x="113" y="440.9609">Get Version: receive RDA API version and verify compatibility with BFD pipeline</text><polygon fill="#181818" points="603,455.7031,613,459.7031,603,463.7031,607,459.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96" x2="609" y1="459.7031" y2="459.7031"/><polygon fill="#181818" points="1006,485.0137,1016,489.0137,1006,493.0137,1010,489.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="1012" y1="489.0137" y2="489.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="622" y="484.2715">Get starting sequence number to process claims</text><polygon fill="#181818" points="626,499.0137,616,503.0137,626,507.0137,622,503.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620" x2="1017" y1="503.0137" y2="503.0137"/><polygon fill="#181818" points="107,550.6348,97,554.6348,107,558.6348,103,554.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="554.6348" y2="554.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="113" y="534.582">Open stream, and receive messages for processing/to ingest claims</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="117" y="549.8926">via RdaFissClaimLoadJob and RdaMcsClaimLoadJob</text><polygon fill="#181818" points="603,564.6348,613,568.6348,603,572.6348,607,568.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96" x2="609" y1="568.6348" y2="568.6348"/><path d="M555,583.6348 L617,583.6348 L617,590.9453 L607,600.9453 L555,600.9453 L555,583.6348 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="134.1973" style="stroke:#000000;stroke-width:1.5;" width="500.5" x="555" y="583.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="570" y="597.2031">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="632" y="596.2695">[successful processing]</text><polygon fill="#181818" points="1006,633.5664,1016,637.5664,1006,641.5664,1010,637.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="1012" y1="637.5664" y2="637.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="622" y="617.5137">Store fiss and mcs claim data for BFD consumption</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="626" y="632.8242">and update starting sequence number value for future runs.</text><polygon fill="#181818" points="626,647.5664,616,651.5664,626,655.5664,622,651.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620" x2="1017" y1="651.5664" y2="651.5664"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="555" x2="1055.5" y1="660.5664" y2="660.5664"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="560" y="671.2012">[failed processing]</text><polygon fill="#181818" points="1006,691.832,1016,695.832,1006,699.832,1010,695.832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="1012" y1="695.832" y2="695.832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371" x="622" y="691.0898">Any messages that can't be processed written to DLQ table</text><polygon fill="#181818" points="626,705.832,616,709.832,626,713.832,622,709.832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="620" x2="1017" y1="709.832" y2="709.832"/><polygon fill="#181818" points="107,742.1426,97,746.1426,107,750.1426,103,746.1426" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="101" x2="614" y1="746.1426" y2="746.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="113" y="741.4004">Close stream when complete</text><polygon fill="#181818" points="603,756.1426,613,760.1426,603,764.1426,607,760.1426" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="96" x2="609" y1="760.1426" y2="760.1426"/><!--MD5=[5877ec7907127aace13189c2138bb580]
@startuml
title BFD-Pipeline-RDA-GRPC Ingestion of Partially Adjudicated Claims Data Sequence
participant "rda-api"
participant "bfd-pipeline"
database "bfd-db"
note over "rda-api": Runs every 5 min in prod \n 1 hr in test
group Initialization
"bfd-pipeline" -> "rda-api": Smoke test to determine connectivity
"rda-api" - -> "bfd-pipeline"  
"bfd-pipeline" -> "rda-api": Dead Letter Queue (DLQ) Processing: \n Read failed claims from DLQ table
"rda-api" - -> "bfd-pipeline"
"bfd-pipeline" -> "rda-api": Dead Letter Queue (DLQ) Processing: \n For each failed claim, process each claim individually \n via the Process 'DLQGrpcRdaSource' job
"rda-api" -> "bfd-pipeline"
"bfd-pipeline" -> "rda-api": Dead Letter Queue (DLQ) Processing: \n Update error state in db for each claim as RESOLVED/OBSOLETE
"rda-api" - -> "bfd-pipeline"
"bfd-pipeline" -> "rda-api": Get Version: receive RDA API version and verify compatibility with BFD pipeline
"rda-api" - -> "bfd-pipeline"
"bfd-pipeline" -> "bfd-db": Get starting sequence number to process claims
"bfd-db" - -> "bfd-pipeline"
end
"bfd-pipeline" -> "rda-api": Open stream, and receive messages for processing/to ingest claims \n via RdaFissClaimLoadJob and RdaMcsClaimLoadJob
"rda-api" - -> "bfd-pipeline"
alt successful processing
"bfd-pipeline" -> "bfd-db": Store fiss and mcs claim data for BFD consumption \n and update starting sequence number value for future runs.
"bfd-db" - -> "bfd-pipeline"
else failed processing
"bfd-pipeline" -> "bfd-db": Any messages that can't be processed written to DLQ table
"bfd-db" - -> "bfd-pipeline"
end
"bfd-pipeline" -> "rda-api": Close stream when complete
"rda-api"- -> "bfd-pipeline"
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>