<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="747px" preserveAspectRatio="none" style="width:1133px;height:747px;background:#FFFFFF;" version="1.1" viewBox="0 0 1133 747" width="1133px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="605" x="262.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="595" x="267.5" y="28.5352">BFD-Pipeline-RDA-GRPC Ingestion of Partially Adjudicated Claims Data Sequence</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="104.9766" y2="668.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="537.5" x2="537.5" y1="104.9766" y2="668.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="646.5" x2="646.5" y1="104.9766" y2="668.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="752.5" x2="752.5" y1="104.9766" y2="668.6348"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1098" x2="1098" y1="104.9766" y2="668.6348"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="12" y="94.0234">rda-pipeline-source</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="5" y="667.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="12" y="688.1699">rda-pipeline-source</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="466.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="473.5" y="94.0234">rda-streaming-api</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="466.5" y="667.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="473.5" y="688.1699">rda-streaming-api</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="619.5" y="102.0234">rda-db</text><path d="M629,52.4883 C629,42.4883 647,42.4883 647,42.4883 C647,42.4883 665,42.4883 665,52.4883 L665,78.4883 C665,88.4883 647,88.4883 647,88.4883 C647,88.4883 629,88.4883 629,78.4883 L629,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M629,52.4883 C629,62.4883 647,62.4883 647,62.4883 C647,62.4883 665,62.4883 665,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="619.5" y="681.1699">rda-db</text><path d="M629,694.123 C629,684.123 647,684.123 647,684.123 C647,684.123 665,684.123 665,694.123 L665,720.123 C665,730.123 647,730.123 647,730.123 C647,730.123 629,730.123 629,720.123 L629,694.123 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M629,694.123 C629,704.123 647,704.123 647,704.123 C647,704.123 665,704.123 665,694.123 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="684.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="691.5" y="94.0234">rda-pipeline-sink</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="684.5" y="667.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="691.5" y="688.1699">rda-pipeline-sink</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1071" y="102.0234">bfd-db</text><path d="M1080.5,52.4883 C1080.5,42.4883 1098.5,42.4883 1098.5,42.4883 C1098.5,42.4883 1116.5,42.4883 1116.5,52.4883 L1116.5,78.4883 C1116.5,88.4883 1098.5,88.4883 1098.5,88.4883 C1098.5,88.4883 1080.5,88.4883 1080.5,78.4883 L1080.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1080.5,52.4883 C1080.5,62.4883 1098.5,62.4883 1098.5,62.4883 C1098.5,62.4883 1116.5,62.4883 1116.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1071" y="681.1699">bfd-db</text><path d="M1080.5,694.123 C1080.5,684.123 1098.5,684.123 1098.5,684.123 C1098.5,684.123 1116.5,684.123 1116.5,694.123 L1116.5,720.123 C1116.5,730.123 1098.5,730.123 1098.5,730.123 C1098.5,730.123 1080.5,730.123 1080.5,720.123 L1080.5,694.123 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1080.5,694.123 C1080.5,704.123 1098.5,704.123 1098.5,704.123 C1098.5,704.123 1116.5,704.123 1116.5,694.123 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M447,119.9766 L447,159.9766 L629,159.9766 L629,129.9766 L619,119.9766 L447,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M619,119.9766 L619,129.9766 L629,129.9766 L619,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="453" y="137.5449">Runs every 5 min in prod</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="457" y="152.8555">1 hr in test</text><polygon fill="#181818" points="526,182.9082,536,186.9082,526,190.9082,530,186.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="532" y1="186.9082" y2="186.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="89" y="182.166">Smoke test to determine connectivity</text><polygon fill="#181818" points="635,212.2188,645,216.2188,635,220.2188,639,216.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="641" y1="216.2188" y2="216.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="89" y="211.4766">Smoke test to determine connectivity</text><polygon fill="#181818" points="93,226.2188,83,230.2188,93,234.2188,89,230.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="537" y1="230.2188" y2="230.2188"/><polygon fill="#181818" points="93,240.2188,83,244.2188,93,248.2188,89,244.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="646" y1="244.2188" y2="244.2188"/><polygon fill="#181818" points="635,269.5293,645,273.5293,635,277.5293,639,273.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="641" y1="273.5293" y2="273.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="89" y="268.7871">Dead Letter Queue (DLQ) Processing</text><polygon fill="#181818" points="93,283.5293,83,287.5293,93,291.5293,89,287.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="646" y1="287.5293" y2="287.5293"/><polygon fill="#181818" points="526,312.8398,536,316.8398,526,320.8398,530,316.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="532" y1="316.8398" y2="316.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="89" y="312.0977">Run 'DLQGrpcRdaSource' job if needed</text><polygon fill="#181818" points="93,326.8398,83,330.8398,93,334.8398,89,330.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87" x2="537" y1="330.8398" y2="330.8398"/><polygon fill="#181818" points="526,356.1504,536,360.1504,526,364.1504,530,360.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="532" y1="360.1504" y2="360.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="89" y="355.4082">GetVersion: stream of current API version</text><polygon fill="#181818" points="93,370.1504,83,374.1504,93,378.1504,89,374.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="537" y1="374.1504" y2="374.1504"/><polygon fill="#181818" points="635,399.4609,645,403.4609,635,407.4609,639,403.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="641" y1="403.4609" y2="403.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="89" y="398.7188">Get starting sequence number to process claims</text><polygon fill="#181818" points="93,413.4609,83,417.4609,93,421.4609,89,417.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="646" y1="417.4609" y2="417.4609"/><polygon fill="#181818" points="526,458.082,536,462.082,526,466.082,530,462.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="532" y1="462.082" y2="462.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="89" y="442.0293">Open stream, and receive messages for processing/to ingest claims</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="93" y="457.3398">via RdaFissClaimLoadJob and RdaMcsClaimLoadJob</text><polygon fill="#181818" points="93,472.082,83,476.082,93,480.082,89,476.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="537" y1="476.082" y2="476.082"/><polygon fill="#181818" points="740.5,501.3926,750.5,505.3926,740.5,509.3926,744.5,505.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="746.5" y1="505.3926" y2="505.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="89" y="500.6504">Send data to sink for storage</text><polygon fill="#181818" points="1086.5,530.7031,1096.5,534.7031,1086.5,538.7031,1090.5,534.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="752.5" x2="1092.5" y1="534.7031" y2="534.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="759.5" y="529.9609">Store fiss and mcs claim data for BFD consumption</text><polygon fill="#181818" points="763.5,544.7031,753.5,548.7031,763.5,552.7031,759.5,548.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="757.5" x2="1097.5" y1="548.7031" y2="548.7031"/><polygon fill="#181818" points="93,558.7031,83,562.7031,93,566.7031,89,562.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="751.5" y1="562.7031" y2="562.7031"/><polygon fill="#181818" points="526,603.3242,536,607.3242,526,611.3242,530,607.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="532" y1="607.3242" y2="607.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="89" y="587.2715">Stop processing and close stream if:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="93" y="602.582">no more claims to process or there is an error</text><polygon fill="#181818" points="93,617.3242,83,621.3242,93,625.3242,89,621.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="537" y1="621.3242" y2="621.3242"/><polygon fill="#181818" points="635,646.6348,645,650.6348,635,654.6348,639,650.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="641" y1="650.6348" y2="650.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371" x="89" y="645.8926">Any messages that can't be processed written to DLQ table</text><!--MD5=[aefe2052f7ff2e788c0b666597632b51]
@startuml
title BFD-Pipeline-RDA-GRPC Ingestion of Partially Adjudicated Claims Data Sequence
participant "rda-pipeline-source"
participant "rda-streaming-api"
database "rda-db"
participant "rda-pipeline-sink"
database "bfd-db"
note over "rda-streaming-api": Runs every 5 min in prod \n 1 hr in test
"rda-pipeline-source" -> "rda-streaming-api": Smoke test to determine connectivity
"rda-pipeline-source" -> "rda-db": Smoke test to determine connectivity
"rda-streaming-api" - -> "rda-pipeline-source"  
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-db": Dead Letter Queue (DLQ) Processing
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Run 'DLQGrpcRdaSource' job if needed
"rda-streaming-api" -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": GetVersion: stream of current API version
"rda-streaming-api" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-db": Get starting sequence number to process claims
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Open stream, and receive messages for processing/to ingest claims \n via RdaFissClaimLoadJob and RdaMcsClaimLoadJob
"rda-streaming-api" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-pipeline-sink": Send data to sink for storage
"rda-pipeline-sink" -> "bfd-db": Store fiss and mcs claim data for BFD consumption
"bfd-db" - -> "rda-pipeline-sink"
"rda-pipeline-sink" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Stop processing and close stream if: \n no more claims to process or there is an error 
"rda-streaming-api"- -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-db": Any messages that can't be processed written to DLQ table
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>