<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="880px" preserveAspectRatio="none" style="width:1253px;height:880px;background:#FFFFFF;" version="1.1" viewBox="0 0 1253 880" width="1253px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="605" x="322.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="595" x="327.5" y="28.5352">BFD-Pipeline-RDA-GRPC Ingestion of Partially Adjudicated Claims Data Sequence</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="104.9766" y2="802.498"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="600.5" x2="600.5" y1="104.9766" y2="802.498"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="709.5" x2="709.5" y1="104.9766" y2="802.498"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="815.5" x2="815.5" y1="104.9766" y2="802.498"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1218" x2="1218" y1="104.9766" y2="802.498"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="12" y="94.0234">rda-pipeline-source</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="5" y="801.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="12" y="822.0332">rda-pipeline-source</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="529.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="536.5" y="94.0234">rda-streaming-api</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="529.5" y="801.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="536.5" y="822.0332">rda-streaming-api</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="682.5" y="102.0234">rda-db</text><path d="M692,52.4883 C692,42.4883 710,42.4883 710,42.4883 C710,42.4883 728,42.4883 728,52.4883 L728,78.4883 C728,88.4883 710,88.4883 710,88.4883 C710,88.4883 692,88.4883 692,78.4883 L692,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M692,52.4883 C692,62.4883 710,62.4883 710,62.4883 C710,62.4883 728,62.4883 728,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="682.5" y="815.0332">rda-db</text><path d="M692,827.9863 C692,817.9863 710,817.9863 710,817.9863 C710,817.9863 728,817.9863 728,827.9863 L728,853.9863 C728,863.9863 710,863.9863 710,863.9863 C710,863.9863 692,863.9863 692,853.9863 L692,827.9863 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M692,827.9863 C692,837.9863 710,837.9863 710,837.9863 C710,837.9863 728,837.9863 728,827.9863 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="747.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="754.5" y="94.0234">rda-pipeline-sink</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="747.5" y="801.498"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="754.5" y="822.0332">rda-pipeline-sink</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1191" y="102.0234">bfd-db</text><path d="M1200.5,52.4883 C1200.5,42.4883 1218.5,42.4883 1218.5,42.4883 C1218.5,42.4883 1236.5,42.4883 1236.5,52.4883 L1236.5,78.4883 C1236.5,88.4883 1218.5,88.4883 1218.5,88.4883 C1218.5,88.4883 1200.5,88.4883 1200.5,78.4883 L1200.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1200.5,52.4883 C1200.5,62.4883 1218.5,62.4883 1218.5,62.4883 C1218.5,62.4883 1236.5,62.4883 1236.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1191" y="815.0332">bfd-db</text><path d="M1200.5,827.9863 C1200.5,817.9863 1218.5,817.9863 1218.5,817.9863 C1218.5,817.9863 1236.5,817.9863 1236.5,827.9863 L1236.5,853.9863 C1236.5,863.9863 1218.5,863.9863 1218.5,863.9863 C1218.5,863.9863 1200.5,863.9863 1200.5,853.9863 L1200.5,827.9863 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1200.5,827.9863 C1200.5,837.9863 1218.5,837.9863 1218.5,837.9863 C1218.5,837.9863 1236.5,837.9863 1236.5,827.9863 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M510,119.9766 L510,159.9766 L692,159.9766 L692,129.9766 L682,119.9766 L510,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M682,119.9766 L682,129.9766 L692,129.9766 L682,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="516" y="137.5449">Runs every 5 min in prod</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="520" y="152.8555">1 hr in test</text><polygon fill="#181818" points="589,182.9082,599,186.9082,589,190.9082,593,186.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="595" y1="186.9082" y2="186.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="89" y="182.166">Smoke test to determine connectivity</text><polygon fill="#181818" points="698,212.2188,708,216.2188,698,220.2188,702,216.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="704" y1="216.2188" y2="216.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="89" y="211.4766">Smoke test to determine connectivity</text><polygon fill="#181818" points="93,226.2188,83,230.2188,93,234.2188,89,230.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="600" y1="230.2188" y2="230.2188"/><polygon fill="#181818" points="93,240.2188,83,244.2188,93,248.2188,89,244.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="709" y1="244.2188" y2="244.2188"/><polygon fill="#181818" points="698,284.8398,708,288.8398,698,292.8398,702,288.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="704" y1="288.8398" y2="288.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="89" y="268.7871">Dead Letter Queue (DLQ) Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="93" y="284.0977">Read failed claims from DLQ table</text><polygon fill="#181818" points="93,298.8398,83,302.8398,93,306.8398,89,302.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="709" y1="302.8398" y2="302.8398"/><polygon fill="#181818" points="589,358.7715,599,362.7715,589,366.7715,593,362.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="595" y1="362.7715" y2="362.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="89" y="327.4082">Dead Letter Queue (DLQ) Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="93" y="342.7188">For each failed claim, process each claim individually</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="93" y="358.0293">via the Process 'DLQGrpcRdaSource' job</text><polygon fill="#181818" points="93,372.7715,83,376.7715,93,380.7715,89,376.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87" x2="600" y1="376.7715" y2="376.7715"/><polygon fill="#181818" points="698,417.3926,708,421.3926,698,425.3926,702,421.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="704" y1="421.3926" y2="421.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="89" y="401.3398">Dead Letter Queue (DLQ) Processing:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="93" y="416.6504">Update error state in db for each claim as RESOLVED/OBSOLETE</text><polygon fill="#181818" points="93,431.3926,83,435.3926,93,439.3926,89,435.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="709" y1="435.3926" y2="435.3926"/><polygon fill="#181818" points="589,460.7031,599,464.7031,589,468.7031,593,464.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="595" y1="464.7031" y2="464.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="495" x="89" y="459.9609">Get Version: receive RDA API version and verify compatibility with BFD pipeline</text><polygon fill="#181818" points="93,474.7031,83,478.7031,93,482.7031,89,478.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="600" y1="478.7031" y2="478.7031"/><polygon fill="#181818" points="1206.5,504.0137,1216.5,508.0137,1206.5,512.0137,1210.5,508.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="1212.5" y1="508.0137" y2="508.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="89" y="503.2715">Get starting sequence number to process claims</text><polygon fill="#181818" points="93,518.0137,83,522.0137,93,526.0137,89,522.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="1217.5" y1="522.0137" y2="522.0137"/><polygon fill="#181818" points="589,562.6348,599,566.6348,589,570.6348,593,566.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="595" y1="566.6348" y2="566.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="89" y="546.582">Open stream, and receive messages for processing/to ingest claims</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="93" y="561.8926">via RdaFissClaimLoadJob and RdaMcsClaimLoadJob</text><polygon fill="#181818" points="93,576.6348,83,580.6348,93,584.6348,89,580.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="600" y1="580.6348" y2="580.6348"/><polygon fill="#181818" points="803.5,605.9453,813.5,609.9453,803.5,613.9453,807.5,609.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="809.5" y1="609.9453" y2="609.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="89" y="605.2031">Send data to sink for storage</text><polygon fill="#181818" points="1206.5,650.5664,1216.5,654.5664,1206.5,658.5664,1210.5,654.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="815.5" x2="1212.5" y1="654.5664" y2="654.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="822.5" y="634.5137">Store fiss and mcs claim data for BFD consumption</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="826.5" y="649.8242">and update starting sequence number value for future runs.</text><polygon fill="#181818" points="826.5,664.5664,816.5,668.5664,826.5,672.5664,822.5,668.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="820.5" x2="1217.5" y1="668.5664" y2="668.5664"/><polygon fill="#181818" points="93,678.5664,83,682.5664,93,686.5664,89,682.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="814.5" y1="682.5664" y2="682.5664"/><polygon fill="#181818" points="698,707.877,708,711.877,698,715.877,702,711.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="704" y1="711.877" y2="711.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371" x="89" y="707.1348">Any messages that can't be processed written to DLQ table</text><polygon fill="#181818" points="93,721.877,83,725.877,93,729.877,89,725.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="709" y1="725.877" y2="725.877"/><polygon fill="#181818" points="589,766.498,599,770.498,589,774.498,593,770.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82" x2="595" y1="770.498" y2="770.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="89" y="750.4453">Stop processing and close stream if:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="93" y="765.7559">no more claims to process or there is an error</text><polygon fill="#181818" points="93,780.498,83,784.498,93,788.498,89,784.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87" x2="600" y1="784.498" y2="784.498"/><!--MD5=[c07af5937b6c7508f347d272fe629b58]
@startuml
title BFD-Pipeline-RDA-GRPC Ingestion of Partially Adjudicated Claims Data Sequence
participant "rda-pipeline-source"
participant "rda-streaming-api"
database "rda-db"
participant "rda-pipeline-sink"
database "bfd-db"
note over "rda-streaming-api": Runs every 5 min in prod \n 1 hr in test
"rda-pipeline-source" -> "rda-streaming-api": Smoke test to determine connectivity
"rda-pipeline-source" -> "rda-db": Smoke test to determine connectivity
"rda-streaming-api" - -> "rda-pipeline-source"  
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-db": Dead Letter Queue (DLQ) Processing: \n Read failed claims from DLQ table
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Dead Letter Queue (DLQ) Processing: \n For each failed claim, process each claim individually \n via the Process 'DLQGrpcRdaSource' job
"rda-streaming-api" -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-db": Dead Letter Queue (DLQ) Processing: \n Update error state in db for each claim as RESOLVED/OBSOLETE
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Get Version: receive RDA API version and verify compatibility with BFD pipeline
"rda-streaming-api" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "bfd-db": Get starting sequence number to process claims
"bfd-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Open stream, and receive messages for processing/to ingest claims \n via RdaFissClaimLoadJob and RdaMcsClaimLoadJob
"rda-streaming-api" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-pipeline-sink": Send data to sink for storage
"rda-pipeline-sink" -> "bfd-db": Store fiss and mcs claim data for BFD consumption \n and update starting sequence number value for future runs.
"bfd-db" - -> "rda-pipeline-sink"
"rda-pipeline-sink" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-db": Any messages that can't be processed written to DLQ table
"rda-db" - -> "rda-pipeline-source"
"rda-pipeline-source" -> "rda-streaming-api": Stop processing and close stream if: \n no more claims to process or there is an error 
"rda-streaming-api"- -> "rda-pipeline-source"
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>