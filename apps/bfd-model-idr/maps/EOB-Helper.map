map "https://bfd.cms.gov/MappingLanguage/Maps/EOB-Helper" = "eob-support-map"

conceptmap "FinalActionIndicator" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/explanationofbenefit-status"

  s:Y == t:"active"
  s:N == t:"cancelled"
}

conceptmap "CLM_LTST_CLM_IND" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/explanationofbenefit-status"

  s:Y == t:"active"
  s:N == t:"cancelled"
}

conceptmap "CLM_TYPE_CD" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://terminology.hl7.org/CodeSystem/claim-type"

  s:1 == t:"pharmacy"
  s:2 == t:"pharmacy"
  s:3 == t:"pharmacy"
  s:4 == t:"pharmacy"
  s:10 == t:"institutional"
  s:20 == t:"institutional"
  s:30 == t:"institutional"
  s:40 == t:"institutional"
  s:50 == t:"institutional"
  s:60 == t:"institutional"
  s:61 == t:"institutional"
  s:62 == t:"institutional"
  s:63 == t:"institutional"
  s:71 == t:"professional"
  s:72 == t:"professional"
  s:81 == t:"professional"
  s:82 == t:"professional"
  s:1011 == t:"institutional"
  s:2011 == t:"institutional"
}

conceptmap "RIC_CD" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:M == t:"Part B"
  s:O == t:"Part B"
  s:U == t:"Part A"
  s:V == t:"Part A"
  s:W == t:"Part B"
}

conceptmap "profile_metadata" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:1 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:2 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:3 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:4 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:10 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional|2.1.0"
  s:20 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:30 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:40 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional|2.1.0"
  s:50 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:60 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:61 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:62 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:63 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:71 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:72 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:81 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:82 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:1011 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:2011 == t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
}

conceptmap "subtype" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBInstitutionalClaimSubType"

  s:10 == t:"outpatient"
  s:20 == t:"inpatient"
  s:30 == t:"inpatient"
  s:40 == t:"outpatient"
  s:50 == t:"inpatient"
  s:60 == t:"inpatient"
  s:61 == t:"inpatient"
  s:62 == t:"inpatient"
  s:63 == t:"inpatient"
  s:1011 == t:"inpatient"
  s:1041 == t:"inpatient"
  s:2011 == t:"inpatient"
  s:2041 == t:"inpatient"
}

conceptmap "CLM_SRC_ID" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:"N/A" == t:"Medicaid"
  s:"20000" == t:"NationalClaimsHistory"
  s:"21000" == t:"FISS"
  s:"22000" == t:"MCS"
  s:"23000" == t:"VMS"
  s:"24000" == t:"EDPS"
  s:"25000" == t:"EncounterMedicaidDuals"
}

conceptmap "ADJUDICATION-STATUS" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://bluebutton.cms.gov/fhir/CodeSystem/Adjudication-Status"

  s:"20000" == t:"Adjudicated"
  s:"21000" == t:"PartiallyAdjudicated"
  s:"22000" == t:"PartiallyAdjudicated"
  s:"23000" == t:"PartiallyAdjudicated"
}

conceptmap "CLM_AUDT_TRL_STUS_CD" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:"A" = t:"queued"
  s:"B" = t:"queued"
  s:"C" = t:"partial"
  s:"D" = t:"complete"
  s:"E" = t:"complete"
  s:"F" = t:"complete"
  s:"G" = t:"complete"
  s:"J" = t:"queued"
  s:"K" = t:"queued"
  s:"L" = t:"partial"
  s:"M" = t:"complete"
  s:"N" = t:"complete"
  s:"P" = t:"complete"
  s:"Q" = t:"complete"
  s:"R" = t:"complete"
  s:"U" = t:"complete"
  s:"V" = t:"complete"
  s:"W" = t:"complete"
  s:"X" = t:"complete"
  s:"Y" = t:"complete"
  s:"Z" = t:"complete"
  s:"1" = t:"queued"
  s:"2" = t:"queued"
  s:"3" = t:"partial"
  s:"4" = t:"complete"
  s:"5" = t:"complete"
  s:"6" = t:"error"
  s:"8" = t:"complete"
  s:"9" = t:"complete"
  s:"00" = t:"complete"
  s:"01" = t:"complete"
  s:"02" = t:"complete"
  s:"03" = t:"complete"
  s:"04" = t:"complete"
  s:"05" = t:"error"
  s:"06" = t:"error"
  s:"07" = t:"complete"
  s:"08" = t:"complete"
  s:"09" = t:"complete"
  s:"10" = t:"complete"
  s:"11" = t:"queued"
  s:"12" = t:"queued"
  s:"13" = t:"complete"
  s:"14" = t:"complete"
  s:"15" = t:"complete"
  s:"16" = t:"complete"
  s:"17" = t:"queued"
  s:"18" = t:"queued"
  s:"19" = t:"queued"
  s:"20" = t:"error"
  s:"21" = t:"complete"
  s:"22" = t:"complete"
  s:"23" = t:"error"
  s:"24" = t:"complete"
  s:"25" = t:"complete"
  s:"26" = t:"complete"
  s:"27" = t:"complete"
  s:"28" = t:"complete"
  s:"29" = t:"error"
  s:"30" = t:"error"
  s:"31" = t:""
  s:"32" = t:""
  s:"33" = t:"complete"
  s:"34" = t:"error"
  s:"35" = t:"complete"
  s:"36" = t:"complete"
  s:"37" = t:"error"
  s:"38" = t:"complete"
  s:"39" = t:"complete"
  s:"40" = t:"complete"
  s:"41" = t:"complete"
  s:"42" = t:"complete"
  s:"43" = t:"complete"
  s:"44" = t:"complete"
  s:"45" = t:"error"
  s:"46" = t:"complete"
  s:"47" = t:"complete"
  s:"48" = t:"complete"
  s:"49" = t:"complete"
  s:"50" = t:"complete"
  s:"51" = t:"complete"
  s:"52" = t:"error"
  s:"53" = t:"complete"
  s:"54" = t:"complete"
  s:"55" = t:"complete"
  s:"56" = t:"complete"
  s:"57" = t:"complete"
  s:"58" = t:"error"
  s:"59" = t:"complete"
  s:"60" = t:"error"
  s:"61" = t:"complete"
  s:"62" = t:"error"
  s:"63" = t:"complete"
  s:"64" = t:"complete"
  s:"65" = t:"complete"
  s:"66" = t:"complete"
  s:"67" = t:"complete"
  s:"68" = t:"complete"
  s:"69" = t:"complete"
  s:"70" = t:"complete"
  s:"71" = t:"complete"
  s:"72" = t:"complete"
  s:"73" = t:"complete"
  s:"74" = t:"complete"
  s:"75" = t:"complete"
  s:"76" = t:"complete"
  s:"77" = t:"complete"
  s:"78" = t:""
  s:"79" = t:""
  s:"80" = t:"complete"
  s:"81" = t:"complete"
  s:"82" = t:""
  s:"83" = t:"complete"
  s:"84" = t:"complete"
  s:"85" = t:"complete"
  s:"86" = t:"complete"
  s:"87" = t:"complete"
  s:"88" = t:"error"
  s:"89" = t:"complete"
  s:"90" = t:"complete"
  s:"91" = t:"complete"
  s:"92" = t:"complete"
  s:"94" = t:"complete"
  s:"95" = t:"complete"
  s:"96" = t:"complete"
  s:"97" = t:"complete"
  s:"98" = t:"complete"
  s:"99" = t:"complete"
}

conceptmap "CLM-CRNT-STUS-CD" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:"A" == t:"queued"
  s:"F" == t:"partial"
  s:"I" == t:"partial"
  s:"S" == t:"partial"
  s:"M" == t:"partial"
  s:"P" == t:"complete"
  s:"R" == t:"complete"
  s:"D" == t:"complete"
  s:"T" == t:"partial"
  s:"U" == t:"complete"
}

conceptmap "REMITTANCE-OUTCOME" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/remittance-outcome"

  s:"20000" == t:"complete"
  s:"21000" == t:"partial"
  s:"22000" == t:"partial"
  s:"23000" == t:"partial"
}

conceptmap "CLM_DGNS_PRCDR_ICD_IND_PROCEDURE" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:" " == t:"http://www.cms.gov/Medicare/Coding/ICD9"
  s:"9" == t:"http://www.cms.gov/Medicare/Coding/ICD9"
  s:"0" == t:"http://www.cms.gov/Medicare/Coding/ICD10"
}

conceptmap "CLM_DGNS_PRCDR_ICD_IND_DIAGNOSIS" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:" " == t:"http://hl7.org/fhir/sid/icd-9-cm"
  s:"9" == t:"http://hl7.org/fhir/sid/icd-9-cm"
  s:"0" == t:"http://hl7.org/fhir/sid/icd-10-cm"
}

conceptmap "HL7_DIAGTYPE" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://terminology.hl7.org/CodeSystem/ex-diagnosistype"

  s:"A" == t:"admitting"
  s:"P" == t:"principal"
}

conceptmap "C4BB_DIAGTYPE" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBClaimDiagnosisType"

  s:"1" == t:"externalcauseofinjury"
  s:"D" == t:"other"
  s:"E" == t:"externalcauseofinjury"
  s:"R" == t:"patientreasonforvisit"
}

conceptmap "C4BB_DIAGTYPE_PROF" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBClaimDiagnosisType"

  s:"D" == t:"secondary"
}

conceptmap "C4BB-SupportingInfo-Categories" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBSupportingInfoType"

  s:"CLM_ACTV_CARE_FROM_DT" == t:"admissionperiod"
  s:"CLM_ADMSN_TYPE_CD" == t:"admtype"
  s:"CLM_SUBMSN_DT" == t:"clmrecvddate"
  s:"BENE_PTNT_STUS_CD" == t:"discharge-status"
  s:"DGNS_DRG_CD" == t:"drg"
  s:"CLM_ADMSN_SRC_CD" == t:"pointoforigin"
  s:"TYPE_OF_BILL_CD" == t:"typeofbill"
  s:"CLM_LINE_DAYS_SUPLY_QTY" == t:"dayssupply"
  s:"CLM_LINE_RX_FILL_NUM" == t:"refillnum"
  s:"CLM_DAW_PROD_SLCTN_CD" == t:"dawcode"
  s:"CLM_CMPND_CD" == t:"compoundcode"
  s:"CLM_BRND_GNRC_CD" == t:"brandgenericindicator"
  s:"CLM_LINE_RX_ORGN_CD" == t:"rxorigincode"
  s:"CLM_LINE_AUTHRZD_FILL_NUM" == t:"refillsauthorized"

}

conceptmap "UnitTransform" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://unitsofmeasure.org"

  s:"ML" == t:"mL"
  s:"ME" == t:"mg"
  s:"UN" == t:"[arb'U]"
  s:"F2" == t:"[IU]"
  s:"GR" == t:"g"
  s:"EA" == t:"[arb'U]"

}

//Not completed, this is an example.
conceptmap "SSAToUSPSState" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:"01" == t:"AL"
  s:"02" == t:"AK"
  s:"03" == t:"AZ"
  s:"04" == t:"AR"
  s:"05" == t:"CA"
  s:"06" == t:"CO"

}
