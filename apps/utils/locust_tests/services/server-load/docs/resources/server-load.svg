<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2438px" preserveAspectRatio="none" style="width:2303px;height:2438px;background:#FFFFFF;" version="1.1" viewBox="0 0 2303 2438" width="2303px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="307" x="999.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="297" x="1004.75" y="28.5352">server-load Service Deployment Diagram</text><rect fill="none" height="398.6582" style="stroke:#000000;stroke-width:1.5;" width="851.5" x="10" y="135.9766"/><rect fill="none" height="486.5898" style="stroke:#000000;stroke-width:1.5;" width="1228.5" x="10" y="548.6348"/><rect fill="none" height="179.4844" style="stroke:#000000;stroke-width:1.5;" width="377" x="851.5" y="777.1191"/><rect fill="none" height="1291.5273" style="stroke:#000000;stroke-width:1.5;" width="2287.5" x="10" y="1049.2246"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="205.5" x2="205.5" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="365" x2="365" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="691.5" x2="691.5" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="793.5" x2="793.5" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="938.5" x2="938.5" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1158.5" x2="1158.5" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1398" x2="1398" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1643" x2="1643" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1840" x2="1840" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2017.5" x2="2017.5" y1="118.9766" y2="2357.752"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2242.5" x2="2242.5" y1="118.9766" y2="2357.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="20" y="116.0234">operator</text><ellipse cx="53" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53,58.9883 L53,85.9883 M40,66.9883 L66,66.9883 M53,85.9883 L40,100.9883 M53,85.9883 L66,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="20" y="2370.2871">operator</text><ellipse cx="53" cy="2381.7402" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53,2389.7402 L53,2416.7402 M40,2397.7402 L66,2397.7402 M53,2416.7402 L40,2431.7402 M53,2416.7402 L66,2431.7402 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="180.5" y="116.0234">github</text><path d="M188,66.4883 C188,56.4883 206,56.4883 206,56.4883 C206,56.4883 224,56.4883 224,66.4883 L224,92.4883 C224,102.4883 206,102.4883 206,102.4883 C206,102.4883 188,102.4883 188,92.4883 L188,66.4883 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M188,66.4883 C188,76.4883 206,76.4883 206,76.4883 C206,76.4883 224,76.4883 224,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="180.5" y="2370.2871">github</text><path d="M188,2383.2402 C188,2373.2402 206,2373.2402 206,2373.2402 C206,2373.2402 224,2373.2402 224,2383.2402 L224,2409.2402 C224,2419.2402 206,2419.2402 206,2419.2402 C206,2419.2402 188,2419.2402 188,2409.2402 L188,2383.2402 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M188,2383.2402 C188,2393.2402 206,2393.2402 206,2393.2402 C206,2393.2402 224,2393.2402 224,2383.2402 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="281" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="288" y="108.0234">bfd-server-load-build</text><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="281" y="2356.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="288" y="2377.2871">bfd-server-load-build</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="658.5" y="116.0234">AWS ECR</text><path d="M674,66.4883 C674,56.4883 692,56.4883 692,56.4883 C692,56.4883 710,56.4883 710,66.4883 L710,92.4883 C710,102.4883 692,102.4883 692,102.4883 C692,102.4883 674,102.4883 674,92.4883 L674,66.4883 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M674,66.4883 C674,76.4883 692,76.4883 692,76.4883 C692,76.4883 710,76.4883 710,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="658.5" y="2370.2871">AWS ECR</text><path d="M674,2383.2402 C674,2373.2402 692,2373.2402 692,2373.2402 C692,2373.2402 710,2373.2402 710,2383.2402 L710,2409.2402 C710,2419.2402 692,2419.2402 692,2419.2402 C692,2419.2402 674,2419.2402 674,2409.2402 L674,2383.2402 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M674,2383.2402 C674,2393.2402 692,2393.2402 692,2393.2402 C692,2393.2402 710,2393.2402 710,2383.2402 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="735.5" y="116.0234">parameter store</text><path d="M775.5,66.4883 C775.5,56.4883 793.5,56.4883 793.5,56.4883 C793.5,56.4883 811.5,56.4883 811.5,66.4883 L811.5,92.4883 C811.5,102.4883 793.5,102.4883 793.5,102.4883 C793.5,102.4883 775.5,102.4883 775.5,92.4883 L775.5,66.4883 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M775.5,66.4883 C775.5,76.4883 793.5,76.4883 793.5,76.4883 C793.5,76.4883 811.5,76.4883 811.5,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="735.5" y="2370.2871">parameter store</text><path d="M775.5,2383.2402 C775.5,2373.2402 793.5,2373.2402 793.5,2373.2402 C793.5,2373.2402 811.5,2373.2402 811.5,2383.2402 L811.5,2409.2402 C811.5,2419.2402 793.5,2419.2402 793.5,2419.2402 C793.5,2419.2402 775.5,2419.2402 775.5,2409.2402 L775.5,2383.2402 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M775.5,2383.2402 C775.5,2393.2402 793.5,2393.2402 793.5,2393.2402 C793.5,2393.2402 811.5,2393.2402 811.5,2383.2402 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="861.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="868.5" y="108.0234">deployment pipeline</text><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="861.5" y="2356.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="868.5" y="2377.2871">deployment pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1098.5" y="116.0234">EC2 AMI Catalog</text><path d="M1140.5,66.4883 C1140.5,56.4883 1158.5,56.4883 1158.5,56.4883 C1158.5,56.4883 1176.5,56.4883 1176.5,66.4883 L1176.5,92.4883 C1176.5,102.4883 1158.5,102.4883 1158.5,102.4883 C1158.5,102.4883 1140.5,102.4883 1140.5,92.4883 L1140.5,66.4883 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M1140.5,66.4883 C1140.5,76.4883 1158.5,76.4883 1158.5,76.4883 C1158.5,76.4883 1176.5,76.4883 1176.5,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1098.5" y="2370.2871">EC2 AMI Catalog</text><path d="M1140.5,2383.2402 C1140.5,2373.2402 1158.5,2373.2402 1158.5,2373.2402 C1158.5,2373.2402 1176.5,2373.2402 1176.5,2383.2402 L1176.5,2409.2402 C1176.5,2419.2402 1158.5,2419.2402 1158.5,2419.2402 C1158.5,2419.2402 1140.5,2419.2402 1140.5,2409.2402 L1140.5,2383.2402 " fill="#90EE90" style="stroke:#181818;stroke-width:1.5;"/><path d="M1140.5,2383.2402 C1140.5,2393.2402 1158.5,2393.2402 1158.5,2393.2402 C1158.5,2393.2402 1176.5,2393.2402 1176.5,2383.2402 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="1320" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1327" y="108.0234">bfd-run-server-load</text><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="1320" y="2356.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1327" y="2377.2871">bfd-run-server-load</text><rect fill="#90EE90" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1623" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1630" y="108.0234">EC2</text><rect fill="#90EE90" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="1623" y="2356.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="1630" y="2377.2871">EC2</text><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1800" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1807" y="108.0234">controller</text><rect fill="#87CEFA" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="1800" y="2356.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1807" y="2377.2871">controller</text><rect fill="#90EE90" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1966.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1973.5" y="108.0234">AWS Lambda</text><rect fill="#90EE90" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1966.5" y="2356.752"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1973.5" y="2377.2871">AWS Lambda</text><path d="M2202.5,92.4883 L2282.5,92.4883 C2287.5,92.4883 2287.5,105.7324 2287.5,105.7324 C2287.5,105.7324 2287.5,118.9766 2282.5,118.9766 L2202.5,118.9766 C2197.5,118.9766 2197.5,105.7324 2197.5,105.7324 C2197.5,105.7324 2197.5,92.4883 2202.5,92.4883 " fill="#87CEFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M2282.5,92.4883 C2277.5,92.4883 2277.5,105.7324 2277.5,105.7324 C2277.5,118.9766 2282.5,118.9766 2282.5,118.9766 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2202.5" y="111.0234">sqs queue</text><path d="M2202.5,2356.752 L2282.5,2356.752 C2287.5,2356.752 2287.5,2369.9961 2287.5,2369.9961 C2287.5,2369.9961 2287.5,2383.2402 2282.5,2383.2402 L2202.5,2383.2402 C2197.5,2383.2402 2197.5,2369.9961 2197.5,2369.9961 C2197.5,2369.9961 2197.5,2356.752 2202.5,2356.752 " fill="#87CEFA" style="stroke:#181818;stroke-width:0.5;"/><path d="M2282.5,2356.752 C2277.5,2356.752 2277.5,2369.9961 2277.5,2369.9961 C2277.5,2383.2402 2282.5,2383.2402 2282.5,2383.2402 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="2202.5" y="2375.2871">sqs queue</text><path d="M10,135.9766 L183,135.9766 L183,143.2871 L173,153.2871 L10,153.2871 L10,135.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="398.6582" style="stroke:#000000;stroke-width:1.5;" width="851.5" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="25" y="149.5449">Image Deployment</text><polygon fill="#181818" points="194,170.5977,204,174.5977,194,178.5977,198,174.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="200" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60" y="169.8555">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="73" y="169.8555">Submit change set</text><polygon fill="#181818" points="64,199.9082,54,203.9082,64,207.9082,60,203.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="205" y1="203.9082" y2="203.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="70" y="199.166">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="83" y="199.166"> </text><polygon fill="#181818" points="353,229.2188,363,233.2188,353,237.2188,357,233.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="359" y1="233.2188" y2="233.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60" y="228.4766">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="73" y="228.4766">Trigger Image Build</text><polygon fill="#181818" points="217,258.5293,207,262.5293,217,266.5293,213,262.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="211" x2="364" y1="262.5293" y2="262.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="223" y="257.7871">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="236" y="257.7871">Request change set</text><polygon fill="#181818" points="353,287.8398,363,291.8398,353,295.8398,357,291.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="359" y1="291.8398" y2="291.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="213" y="287.0977">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="226" y="287.0977">Return change set</text><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="407" y1="336.4609" y2="336.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="407" x2="407" y1="336.4609" y2="349.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="366" x2="407" y1="349.4609" y2="349.4609"/><polygon fill="#181818" points="376,345.4609,366,349.4609,376,353.4609,372,349.4609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="372" y="324.0635">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="385" y="316.4082">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="385" y="331.7188">build lambda Docker image</text><polygon fill="#181818" points="680,390.082,690,394.082,680,398.082,684,394.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="686" y1="394.082" y2="394.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="372" y="381.6846">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="385" y="374.0293">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="385" y="389.3398">push Docker image to bfd-mgmt-server-load</text><polygon fill="#181818" points="376,419.3926,366,423.3926,376,427.3926,372,423.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="691" y1="423.3926" y2="423.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="382" y="418.6504">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="395" y="418.6504"> </text><polygon fill="#181818" points="781.5,464.0137,791.5,468.0137,781.5,472.0137,785.5,468.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="365" x2="787.5" y1="468.0137" y2="468.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="372" y="455.6162">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="385" y="447.9609">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="385" y="463.2715">write image tag SSM parameter</text><polygon fill="#181818" points="376,493.3242,366,497.3242,376,501.3242,372,497.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="370" x2="792.5" y1="497.3242" y2="497.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="382" y="492.582">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="404" y="492.582"> </text><polygon fill="#181818" points="64,522.6348,54,526.6348,64,530.6348,60,526.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="364" y1="526.6348" y2="526.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="70" y="521.8926">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="92" y="521.8926"> </text><path d="M10,548.6348 L221,548.6348 L221,555.9453 L211,565.9453 L10,565.9453 L10,548.6348 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="486.5898" style="stroke:#000000;stroke-width:1.5;" width="1228.5" x="10" y="548.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166" x="25" y="562.2031">BFD Deployment Excerpt</text><polygon fill="#181818" points="194,583.2559,204,587.2559,194,591.2559,198,587.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="200" y1="587.2559" y2="587.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60" y="582.5137">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="73" y="582.5137">Submit change set</text><polygon fill="#181818" points="64,612.5664,54,616.5664,64,620.5664,60,616.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="205" y1="616.5664" y2="616.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="70" y="611.8242">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="83" y="611.8242"> </text><polygon fill="#181818" points="926.5,641.877,936.5,645.877,926.5,649.877,930.5,645.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="932.5" y1="645.877" y2="645.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60" y="641.1348">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="73" y="641.1348">Trigger deployment pipeline</text><polygon fill="#181818" points="217,671.1875,207,675.1875,217,679.1875,213,675.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="211" x2="937.5" y1="675.1875" y2="675.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="223" y="670.4453">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="236" y="670.4453">Request change set</text><polygon fill="#181818" points="926.5,700.498,936.5,704.498,926.5,708.498,930.5,704.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="206" x2="932.5" y1="704.498" y2="704.498"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="213" y="699.7559">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="226" y="699.7559">Return change set</text><line style="stroke:#181818;stroke-width:1.0;" x1="938.5" x2="980.5" y1="749.1191" y2="749.1191"/><line style="stroke:#181818;stroke-width:1.0;" x1="980.5" x2="980.5" y1="749.1191" y2="762.1191"/><line style="stroke:#181818;stroke-width:1.0;" x1="939.5" x2="980.5" y1="762.1191" y2="762.1191"/><polygon fill="#181818" points="949.5,758.1191,939.5,762.1191,949.5,766.1191,945.5,762.1191" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="945.5" y="736.7217">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="958.5" y="729.0664">Run Prepare, Set Branch Name,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="958.5" y="744.377">Build Platinum AMI, Build Apps</text><path d="M851.5,777.1191 L999.5,777.1191 L999.5,784.4297 L989.5,794.4297 L851.5,794.4297 L851.5,777.1191 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="179.4844" style="stroke:#000000;stroke-width:1.5;" width="377" x="851.5" y="777.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103" x="866.5" y="790.6875">Build App AMIs</text><line style="stroke:#181818;stroke-width:1.0;" x1="938.5" x2="980.5" y1="846.3613" y2="846.3613"/><line style="stroke:#181818;stroke-width:1.0;" x1="980.5" x2="980.5" y1="846.3613" y2="859.3613"/><line style="stroke:#181818;stroke-width:1.0;" x1="939.5" x2="980.5" y1="859.3613" y2="859.3613"/><polygon fill="#181818" points="949.5,855.3613,939.5,859.3613,949.5,863.3613,945.5,859.3613" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="945.5" y="826.3086">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="958.5" y="810.998">packer:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="958.5" y="826.3086">Build all AMIs,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="958.5" y="841.6191">including server-load</text><polygon fill="#181818" points="1146.5,915.293,1156.5,919.293,1146.5,923.293,1150.5,919.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="938.5" x2="1152.5" y1="919.293" y2="919.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="945.5" y="899.2402">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="958.5" y="883.9297">packer:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="958.5" y="899.2402">Store AMIs to catalog,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="958.5" y="914.5508">including server-load</text><polygon fill="#181818" points="949.5,944.6035,939.5,948.6035,949.5,952.6035,945.5,948.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="943.5" x2="1157.5" y1="948.6035" y2="948.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="955.5" y="943.8613">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="968.5" y="943.8613"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="938.5" x2="980.5" y1="984.9141" y2="984.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="980.5" x2="980.5" y1="984.9141" y2="997.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="939.5" x2="980.5" y1="997.9141" y2="997.9141"/><polygon fill="#181818" points="949.5,993.9141,939.5,997.9141,949.5,1001.9141,945.5,997.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="945.5" y="980.1719">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="967.5" y="980.1719">Run remaining stages</text><polygon fill="#181818" points="64,1023.2246,54,1027.2246,64,1031.2246,60,1027.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="937.5" y1="1027.2246" y2="1027.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="70" y="1022.4824">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="92" y="1022.4824"> </text><path d="M10,1049.2246 L198,1049.2246 L198,1056.5352 L188,1066.5352 L10,1066.5352 L10,1049.2246 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1291.5273" style="stroke:#000000;stroke-width:1.5;" width="2287.5" x="10" y="1049.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143" x="25" y="1062.793">bfd-run-server-load</text><polygon fill="#181818" points="1386.5,1083.8457,1396.5,1087.8457,1386.5,1091.8457,1390.5,1087.8457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="1392.5" y1="1087.8457" y2="1087.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60" y="1083.1035">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="73" y="1083.1035">Trigger bfd-run-server-load with parameters</text><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="1440.5" y1="1117.1563" y2="1117.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1440.5" x2="1440.5" y1="1117.1563" y2="1130.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1399.5" x2="1440.5" y1="1130.1563" y2="1130.1563"/><polygon fill="#181818" points="1409.5,1126.1563,1399.5,1130.1563,1409.5,1134.1563,1405.5,1130.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1405.5" y="1112.4141">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="1418.5" y="1112.4141">Collect parameters</text><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="1440.5" y1="1190.0879" y2="1190.0879"/><line style="stroke:#181818;stroke-width:1.0;" x1="1440.5" x2="1440.5" y1="1190.0879" y2="1203.0879"/><line style="stroke:#181818;stroke-width:1.0;" x1="1399.5" x2="1440.5" y1="1203.0879" y2="1203.0879"/><polygon fill="#181818" points="1409.5,1199.0879,1399.5,1203.0879,1409.5,1207.0879,1405.5,1203.0879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1405.5" y="1170.0352">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1418.5" y="1154.7246">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1418.5" y="1170.0352">Plan and apply with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="1418.5" y="1185.3457">parameters</text><polygon fill="#181818" points="804.5,1243.709,794.5,1247.709,804.5,1251.709,800.5,1247.709" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.5" x2="1397.5" y1="1247.709" y2="1247.709"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="810.5" y="1235.3115">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="823.5" y="1227.6563">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="823.5" y="1242.9668">Request latest Docker image tag</text><polygon fill="#181818" points="1386.5,1273.0195,1396.5,1277.0195,1386.5,1281.0195,1390.5,1277.0195" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="793.5" x2="1392.5" y1="1277.0195" y2="1277.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="800.5" y="1272.2773">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="813.5" y="1272.2773">Return latest Docker image tag</text><polygon fill="#181818" points="2005.5,1332.9512,2015.5,1336.9512,2005.5,1340.9512,2009.5,1336.9512" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="2011.5" y1="1336.9512" y2="1336.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1405.5" y="1316.8984">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1418.5" y="1301.5879">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1418.5" y="1316.8984">Update/deploy server-load Lambda</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="1418.5" y="1332.209">to ENV using tagged Docker image</text><polygon fill="#181818" points="1409.5,1362.2617,1399.5,1366.2617,1409.5,1370.2617,1405.5,1366.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1403.5" x2="2016.5" y1="1366.2617" y2="1366.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1415.5" y="1361.5195">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1428.5" y="1361.5195"> </text><polygon fill="#181818" points="1169.5,1406.8828,1159.5,1410.8828,1169.5,1414.8828,1165.5,1410.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1163.5" x2="1397.5" y1="1410.8828" y2="1410.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1175.5" y="1398.4854">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1188.5" y="1390.8301">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="1188.5" y="1406.1406">Request latest server-load AMI</text><polygon fill="#181818" points="1386.5,1436.1934,1396.5,1440.1934,1386.5,1444.1934,1390.5,1440.1934" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1158.5" x2="1392.5" y1="1440.1934" y2="1440.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1165.5" y="1435.4512">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="1178.5" y="1435.4512">Return latest server-load AMI ID</text><polygon fill="#181818" points="1631.5,1496.125,1641.5,1500.125,1631.5,1504.125,1635.5,1500.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="1637.5" y1="1500.125" y2="1500.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1405.5" y="1480.0723">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1427.5" y="1464.7617">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1427.5" y="1480.0723">Deploy server-load controller</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1427.5" y="1495.3828">to EC2 using latest AMI</text><polygon fill="#181818" points="1409.5,1525.4355,1399.5,1529.4355,1409.5,1533.4355,1405.5,1529.4355" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1403.5" x2="1642.5" y1="1529.4355" y2="1529.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1415.5" y="1524.6934">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1437.5" y="1524.6934"> </text><polygon fill="#181818" points="703,1554.7461,693,1558.7461,703,1562.7461,699,1558.7461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="697" x2="2016.5" y1="1558.7461" y2="1558.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="709" y="1554.0039">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="731" y="1554.0039">Retrieve tagged server-load Docker Image</text><polygon fill="#181818" points="2005.5,1584.0566,2015.5,1588.0566,2005.5,1592.0566,2009.5,1588.0566" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="692" x2="2011.5" y1="1588.0566" y2="1588.0566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="699" y="1583.3145">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="721" y="1583.3145"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="2017.5" x2="2059.5" y1="1632.6777" y2="1632.6777"/><line style="stroke:#181818;stroke-width:1.0;" x1="2059.5" x2="2059.5" y1="1632.6777" y2="1645.6777"/><line style="stroke:#181818;stroke-width:1.0;" x1="2018.5" x2="2059.5" y1="1645.6777" y2="1645.6777"/><polygon fill="#181818" points="2028.5,1641.6777,2018.5,1645.6777,2028.5,1649.6777,2024.5,1645.6777" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="2024.5" y="1620.2803">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="2046.5" y="1612.625">Create server-load from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="2046.5" y="1627.9355">bfd-mgmt-server-load image</text><polygon fill="#181818" points="1409.5,1670.9883,1399.5,1674.9883,1409.5,1678.9883,1405.5,1674.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1403.5" x2="2016.5" y1="1674.9883" y2="1674.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1415.5" y="1670.2461">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1437.5" y="1670.2461"> </text><polygon fill="#181818" points="1828.5,1700.2988,1838.5,1704.2988,1828.5,1708.2988,1832.5,1704.2988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1643.5" x2="1834.5" y1="1704.2988" y2="1704.2988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1650.5" y="1699.5566">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="1672.5" y="1699.5566">Start controller instance</text><polygon fill="#181818" points="1654.5,1729.6094,1644.5,1733.6094,1654.5,1737.6094,1650.5,1733.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1648.5" x2="1839.5" y1="1733.6094" y2="1733.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1660.5" y="1728.8672">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1682.5" y="1728.8672"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="1840.5" x2="1882.5" y1="1778.2305" y2="1778.2305"/><line style="stroke:#181818;stroke-width:1.0;" x1="1882.5" x2="1882.5" y1="1778.2305" y2="1791.2305"/><line style="stroke:#181818;stroke-width:1.0;" x1="1841.5" x2="1882.5" y1="1791.2305" y2="1791.2305"/><polygon fill="#181818" points="1851.5,1787.2305,1841.5,1791.2305,1851.5,1795.2305,1847.5,1791.2305" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1847.5" y="1765.833">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1869.5" y="1758.1777">cloud-init:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1869.5" y="1773.4883">Run user-data.sh</text><line style="stroke:#181818;stroke-width:1.0;" x1="1840.5" x2="1882.5" y1="1851.1621" y2="1851.1621"/><line style="stroke:#181818;stroke-width:1.0;" x1="1882.5" x2="1882.5" y1="1851.1621" y2="1864.1621"/><line style="stroke:#181818;stroke-width:1.0;" x1="1841.5" x2="1882.5" y1="1864.1621" y2="1864.1621"/><polygon fill="#181818" points="1851.5,1860.1621,1841.5,1864.1621,1851.5,1868.1621,1847.5,1864.1621" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1847.5" y="1831.1094">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1869.5" y="1815.7988">user-data.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1869.5" y="1831.1094">Run Ansible launch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1869.5" y="1846.4199">variant</text><line style="stroke:#181818;stroke-width:1.0;" x1="1840.5" x2="1882.5" y1="1924.0938" y2="1924.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1882.5" x2="1882.5" y1="1924.0938" y2="1937.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1841.5" x2="1882.5" y1="1937.0938" y2="1937.0938"/><polygon fill="#181818" points="1851.5,1933.0938,1841.5,1937.0938,1851.5,1941.0938,1847.5,1937.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1847.5" y="1904.041">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1869.5" y="1888.7305">Ansible:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1869.5" y="1904.041">Setup bfd-server-load</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1869.5" y="1919.3516">systemd service</text><line style="stroke:#181818;stroke-width:1.0;" x1="1840.5" x2="1882.5" y1="1997.0254" y2="1997.0254"/><line style="stroke:#181818;stroke-width:1.0;" x1="1882.5" x2="1882.5" y1="1997.0254" y2="2010.0254"/><line style="stroke:#181818;stroke-width:1.0;" x1="1841.5" x2="1882.5" y1="2010.0254" y2="2010.0254"/><polygon fill="#181818" points="1851.5,2006.0254,1841.5,2010.0254,1851.5,2014.0254,1847.5,2010.0254" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1847.5" y="1976.9727">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1869.5" y="1961.6621">systemd:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1869.5" y="1976.9727">Start bfd-server-load</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1869.5" y="1992.2832">(controller.py)</text><path d="M2016,1961.249 L2016,2001.249 L2274,2001.249 L2274,1971.249 L2264,1961.249 L2016,1961.249 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2264,1961.249 L2264,1971.249 L2274,1971.249 L2264,1961.249 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="2022" y="1978.8174">See the README for more information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="2022" y="1994.1279">on load testing execution process</text><polygon fill="#181818" points="1386.5,2035.3359,1396.5,2039.3359,1386.5,2043.3359,1390.5,2039.3359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="1392.5" y1="2039.3359" y2="2039.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60" y="2034.5938">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="82" y="2034.5938">Monitors server-load and manually stops bfd-run-server-load</text><polygon fill="#181818" points="2230.5,2064.6465,2240.5,2068.6465,2230.5,2072.6465,2234.5,2068.6465" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="2236.5" y1="2068.6465" y2="2068.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1405.5" y="2063.9043">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1427.5" y="2063.9043">Post stop signal</text><polygon fill="#181818" points="1409.5,2093.957,1399.5,2097.957,1409.5,2101.957,1405.5,2097.957" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1403.5" x2="2241.5" y1="2097.957" y2="2097.957"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1415.5" y="2093.2148">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1437.5" y="2093.2148"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="1440.5" y1="2157.8887" y2="2157.8887"/><line style="stroke:#181818;stroke-width:1.0;" x1="1440.5" x2="1440.5" y1="2157.8887" y2="2170.8887"/><line style="stroke:#181818;stroke-width:1.0;" x1="1399.5" x2="1440.5" y1="2170.8887" y2="2170.8887"/><polygon fill="#181818" points="1409.5,2166.8887,1399.5,2170.8887,1409.5,2174.8887,1405.5,2170.8887" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1405.5" y="2137.8359">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1427.5" y="2122.5254">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1427.5" y="2137.8359">Plan and apply</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1427.5" y="2153.1465">but destroy controller</text><polygon fill="#181818" points="1631.5,2211.5098,1641.5,2215.5098,1631.5,2219.5098,1635.5,2215.5098" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1398.5" x2="1637.5" y1="2215.5098" y2="2215.5098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1405.5" y="2203.1123">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1427.5" y="2195.457">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1427.5" y="2210.7676">Destroy controller EC2 instance</text><polygon fill="#181818" points="1828.5,2240.8203,1838.5,2244.8203,1828.5,2248.8203,1832.5,2244.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1643.5" x2="1834.5" y1="2244.8203" y2="2244.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1650.5" y="2240.0781">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1672.5" y="2240.0781">Destroy instance</text><polygon fill="#181818" points="1654.5,2270.1309,1644.5,2274.1309,1654.5,2278.1309,1650.5,2274.1309" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1648.5" x2="1839.5" y1="2274.1309" y2="2274.1309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1660.5" y="2269.3887">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1682.5" y="2269.3887"> </text><polygon fill="#181818" points="1409.5,2299.4414,1399.5,2303.4414,1409.5,2307.4414,1405.5,2303.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1403.5" x2="1642.5" y1="2303.4414" y2="2303.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1415.5" y="2298.6992">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1437.5" y="2298.6992"> </text><polygon fill="#181818" points="64,2328.752,54,2332.752,64,2336.752,60,2332.752" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="1397.5" y1="2332.752" y2="2332.752"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="70" y="2328.0098">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="92" y="2328.0098"> </text><!--MD5=[d3c98b689df6cdf3912b44bbcb75a7e7]
@startuml server-load
title server-load Service Deployment Diagram
actor operator
database "github" #LightGreen
participant "bfd-server-load-build" #LightSkyBlue
database "AWS ECR" #LightGreen
database "parameter store" #LightGreen
participant "deployment pipeline" #LightSkyBlue
database "EC2 AMI Catalog" #LightGreen
participant "bfd-run-server-load" #LightSkyBlue
participant "EC2" #LightGreen
participant "controller" #LightSkyBlue
participant "AWS Lambda" #LightGreen
queue "sqs queue" #LightSkyBlue
group Image Deployment
  autonumber 1
  operator -> github: Submit change set
  operator <- - github 
  operator -> "bfd-server-load-build": Trigger Image Build
  "bfd-server-load-build" -> github: Request change set
  "bfd-server-load-build" <- - github : Return change set
  "bfd-server-load-build" -> "bfd-server-load-build": build-push.sh:\nbuild lambda Docker image
  "bfd-server-load-build" -> "AWS ECR": build-push.sh:\npush Docker image to bfd-mgmt-server-load
  "bfd-server-load-build" <- - "AWS ECR" 
  "bfd-server-load-build" -> "parameter store": build-push.sh:\nwrite image tag SSM parameter
  "bfd-server-load-build" <- - "parameter store" 
  operator <- - "bfd-server-load-build" 
end
group BFD Deployment Excerpt
  autonumber 1
  operator -> github: Submit change set
  operator <- - github 
  operator -> "deployment pipeline": Trigger deployment pipeline
  "deployment pipeline" -> github: Request change set
  "deployment pipeline" <- - github : Return change set
  "deployment pipeline" -> "deployment pipeline": Run Prepare, Set Branch Name,\nBuild Platinum AMI, Build Apps
  group Build App AMIs
    "deployment pipeline" -> "deployment pipeline": packer:\nBuild all AMIs,\nincluding server-load
    "deployment pipeline" -> "EC2 AMI Catalog": packer:\nStore AMIs to catalog,\nincluding server-load
    "deployment pipeline" <- - "EC2 AMI Catalog"
  end
  "deployment pipeline" -> "deployment pipeline": Run remaining stages
  operator <- - "deployment pipeline"
end
group bfd-run-server-load
  autonumber 1
  operator -> "bfd-run-server-load": Trigger bfd-run-server-load with parameters
  "bfd-run-server-load" -> "bfd-run-server-load": Collect parameters
  "bfd-run-server-load" -> "bfd-run-server-load": terraform:\nPlan and apply with\nparameters
  "bfd-run-server-load" -> "parameter store": terraform:\nRequest latest Docker image tag
  "bfd-run-server-load" <- - "parameter store": Return latest Docker image tag
  "bfd-run-server-load" -> "AWS Lambda": terraform:\nUpdate/deploy server-load Lambda\nto ENV using tagged Docker image
  "bfd-run-server-load" <- - "AWS Lambda"
  "bfd-run-server-load" -> "EC2 AMI Catalog": terraform:\nRequest latest server-load AMI
  "bfd-run-server-load" <- - "EC2 AMI Catalog": Return latest server-load AMI ID
  "bfd-run-server-load" -> "EC2": terraform:\nDeploy server-load controller\nto EC2 using latest AMI
  "bfd-run-server-load" <- - "EC2"
  "AWS Lambda" -> "AWS ECR": Retrieve tagged server-load Docker Image
  "AWS Lambda" <- - "AWS ECR" 
  "AWS Lambda" -> "AWS Lambda": Create server-load from\nbfd-mgmt-server-load image
  "bfd-run-server-load" <- - "AWS Lambda" 
  "EC2" -> "controller": Start controller instance
  "EC2" <- - "controller"
  "controller" -> "controller": cloud-init:\nRun user-data.sh
  "controller" -> "controller": user-data.sh:\nRun Ansible launch\nvariant
  "controller" -> "controller": Ansible:\nSetup bfd-server-load\nsystemd service
  "controller" -> "controller": systemd:\nStart bfd-server-load\n(controller.py)
  note right 
    See the README for more information
    on load testing execution process
  end note
  operator -> "bfd-run-server-load": Monitors server-load and manually stops bfd-run-server-load
  "bfd-run-server-load" -> "sqs queue": Post stop signal
  "bfd-run-server-load" <- - "sqs queue"
  "bfd-run-server-load" -> "bfd-run-server-load": terraform:\nPlan and apply\nbut destroy controller
  "bfd-run-server-load" -> "EC2": terraform:\nDestroy controller EC2 instance
  "EC2" -> "controller": Destroy instance
  "EC2" <- - "controller"
  "bfd-run-server-load" <- - "EC2"
  operator <- - "bfd-run-server-load" 
end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 13:01:30 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>