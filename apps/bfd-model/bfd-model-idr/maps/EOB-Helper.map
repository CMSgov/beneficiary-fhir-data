map "https://bluebutton.cms.gov/MappingLanguage/Maps/EOB-Helper" = "eob-support-map"

conceptmap "FinalActionIndicator" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/explanationofbenefit-status"

  s:Y = t:"active"
  s:N = t:"cancelled"
}

conceptmap "CLM_LTST_CLM_IND" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/explanationofbenefit-status"

  s:Y = t:"active"
  s:N = t:"cancelled"
}

conceptmap "ClM_TYPE_CD" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://terminology.hl7.org/CodeSystem/claim-type"

  s:1 = t:"pharmacy"
  s:2 = t:"pharmacy"
  s:3 = t:"pharmacy"
  s:4 = t:"pharmacy"
  s:10 = t:"institutional"
  s:20 = t:"institutional"
  s:30 = t:"institutional"
  s:40 = t:"institutional"
  s:50 = t:"institutional"
  s:60 = t:"institutional"
  s:61 = t:"institutional"
  s:62 = t:"institutional"
  s:63 = t:"institutional"
  s:71 = t:"professional"
  s:72 = t:"professional"
  s:81 = t:"professional"
  s:82 = t:"professional"
  s:1011 = t:"institutional"
  s:2011 = t:"institutional"
}

conceptmap "profile_metadata" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:1 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:2 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:3 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:4 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Pharmacy|2.1.0"
  s:10 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:20 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:30 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:40 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional|2.1.0"
  s:50 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:60 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:61 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:62 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:63 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:71 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:72 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:81 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:82 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Professional-NonClinician|2.1.0"
  s:1011 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
  s:2011 = t:"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Inpatient-Institutional|2.1.0"
}

conceptmap "ClM_TYPE_CD_RAW" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://terminology.hl7.org/CodeSystem/claim-type"

  s:1 = t:"pharmacy"
  s:2 = t:"pharmacy"
  s:3 = t:"pharmacy"
  s:4 = t:"pharmacy"
  s:10 = t:"HHA Claim"
  s:20 = t:"Non swing bed (SNF)"
  s:20 = t:"Swing bed SNF claim"
  s:40 = t:"Hospital Outpatient claim"
  s:50 = t:"Hospice claim"
  s:60 = t:"Inpatient"
  s:61 = t:"Inpatient"
  s:62 = t:"Inpatient"
  s:63 = t:"Inpatient"
  s:71 = t:"Local carrier non-durable medical equipment, prosthetics, orthotics, and supplies (DMEPOS) claim"
  s:72 = t:"Local carrier DMEPOS claim"
  s:81 = t:"Durable medical equipment regional carrier (DMERC); non-DMEPOS claim"
  s:82 = t:"DMERC; DMEPOS claim"
  s:1011 = t:"011X MEDICARE SS HOSPITAL INPATIENT (PART A) - PHASE 1"
  s:2011 = t:"011X MEDICARE SS HOSPITAL INPATIENT (PART A)"
}

conceptmap "subtype" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBInstitutionalClaimSubType"

  s:10 = t:"inpatient"
  s:20 = t:"inpatient"
  s:30 = t:"inpatient"
  s:40 = t:"outpatient"
  s:50 = t:"inpatient"
  s:60 = t:"inpatient"
  s:61 = t:"inpatient"
  s:62 = t:"inpatient"
  s:63 = t:"inpatient"
}

conceptmap "CLM_SRC_ID" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:"N/A" = t:"Medicaid"
  s:"20000" = t:"NationalClaimsHistory"
  s:"21000" = t:"FISS"
  s:"22000" = t:"MCS"
  s:"23000" = t:"VIPS"
  s:"24000" = t:"EDPS"
  s:"25000" = t:"EncounterMedicaidDuals"
}

conceptmap "ADJUDICATION-STATUS" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://bluebutton.cms.gov/fhir/CodeSystem/Adjudication-Status"

  s:"20000" = t:"Adjudicated"
  s:"21000" = t:"PartiallyAdjudicated"
  s:"22000" = t:"PartiallyAdjudicated"
  s:"23000" = t:"PartiallyAdjudicated"
}

conceptmap "REMITTANCE-OUTCOME" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/remittance-outcome"

  s:"20000" = t:"complete"
  s:"21000" = t:"partial"
  s:"22000" = t:"partial"
  s:"23000" = t:"partial"
}

conceptmap "CLM_DGNS_PRCDR_ICD_IND_PROCEDURE" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:" " = t:"http://www.cms.gov/Medicare/Coding/ICD9"
  s:"9" = t:"http://www.cms.gov/Medicare/Coding/ICD9"
  s:"0" = t:"http://www.cms.gov/Medicare/Coding/ICD10"
}

conceptmap "CLM_DGNS_PRCDR_ICD_IND_DIAGNOSIS" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:" " = t:"http://hl7.org/fhir/sid/icd-9-cm"
  s:"9" = t:"http://hl7.org/fhir/sid/icd-9-cm"
  s:"0" = t:"http://hl7.org/fhir/sid/icd-10-cm"
}

conceptmap "HL7_DIAGTYPE" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://terminology.hl7.org/CodeSystem/ex-diagnosistype"

  s:"A" = t:"principal"
  s:"P" = t:"admitting"
}

conceptmap "C4BB_DIAGTYPE" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBClaimDiagnosisType"

  s:"1" = t:"externalcauseofinjury"
  s:"D" = t:"other"
  s:"E" = t:"externalcauseofinjury"
}

conceptmap "C4BB-SupportingInfo-Categories" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://hl7.org/fhir/us/carin-bb/CodeSystem/C4BBSupportingInfoType"

  s:"CLM_ACTV_CARE_FROM_DT" = t:"admissionperiod"
  s:"CLM_ADMSN_TYPE_CD" = t:"admtype"
  s:"CLM_SUBMSN_DT" = t:"clmrecvddate"
  s:"BENE_PTNT_STUS_CD" = t:"discharge-status"
  s:"DGNS_DRG_CD" = t:"drg"
  s:"CLM_ADMSN_SRC_CD" = t:"pointoforigin"
  s:"TYPE_OF_BILL_CD" = t:"typeofbill"

}

conceptmap "UnitTransform" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "http://unitsofmeasure.org"

  s:"ML" = t:"mL"
  s:"ME" = t:"mg"
  s:"UN" = t:"[arb'U]"
  s:"F2" = t:"[IU]"
  s:"GR" = t:"g"
  s:"EA" = t:"[arb'U]"

}

//Not completed, this is an example.
conceptmap "SSAToUSPSState" {
  prefix s = "https://hl7.org/fhir/string"
  prefix t = "https://hl7.org/fhir/string"

  s:"01" = t:"AL"
  s:"02" = t:"AK"
  s:"03" = t:"AZ"
  s:"04" = t:"AR"
  s:"05" = t:"CA"
  s:"06" = t:"CO"

}
