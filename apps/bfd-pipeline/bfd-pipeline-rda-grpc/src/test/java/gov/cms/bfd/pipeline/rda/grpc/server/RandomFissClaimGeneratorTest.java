package gov.cms.bfd.pipeline.rda.grpc.server;

import static org.junit.jupiter.api.Assertions.assertEquals;

import com.google.protobuf.InvalidProtocolBufferException;
import com.google.protobuf.util.JsonFormat;
import gov.cms.mpsm.rda.v1.fiss.FissClaim;
import java.time.Clock;
import java.time.Instant;
import java.time.ZoneOffset;
import org.junit.jupiter.api.Test;

public class RandomFissClaimGeneratorTest {
  @Test
  public void randomClaim() throws InvalidProtocolBufferException {
    final Clock july1 = Clock.fixed(Instant.ofEpochMilli(1625172944844L), ZoneOffset.UTC);
    final RandomFissClaimGenerator generator = new RandomFissClaimGenerator(1, true, july1);
    final FissClaim claim = generator.randomClaim();
    final String json = JsonFormat.printer().print(claim);
    assertEquals(
        "{\n"
            + "  \"dcn\": \"962289\",\n"
            + "  \"hicNo\": \"290850477419\",\n"
            + "  \"currStatusEnum\": \"CLAIM_STATUS_PAID\",\n"
            + "  \"currLoc2Enum\": \"CURRENT_LOCATION_2_POST_PAY_7518\",\n"
            + "  \"provStateCd\": \"w2\",\n"
            + "  \"provTypFacilCd\": \"n\",\n"
            + "  \"provEmerInd\": \"m\",\n"
            + "  \"provDeptId\": \"jvz\",\n"
            + "  \"totalChargeAmount\": \"0.68\",\n"
            + "  \"recdDtCymd\": \"2021-02-18\",\n"
            + "  \"currTranDtCymd\": \"2021-03-15\",\n"
            + "  \"admDiagCode\": \"htrmjgj\",\n"
            + "  \"principleDiag\": \"pcfkzkv\",\n"
            + "  \"npiNumber\": \"8759509183\",\n"
            + "  \"mbi\": \"9dt7s6qr19q\",\n"
            + "  \"fedTaxNb\": \"7805810238\",\n"
            + "  \"fissProcCodes\": [{\n"
            + "    \"procCd\": \"pcfkzkv\",\n"
            + "    \"rdaPosition\": 1,\n"
            + "    \"procFlag\": \"v\",\n"
            + "    \"procDt\": \"2021-06-09\"\n"
            + "  }, {\n"
            + "    \"procCd\": \"rb\",\n"
            + "    \"rdaPosition\": 2,\n"
            + "    \"procFlag\": \"gz\",\n"
            + "    \"procDt\": \"2021-01-28\"\n"
            + "  }, {\n"
            + "    \"procCd\": \"tbbjqc\",\n"
            + "    \"rdaPosition\": 3,\n"
            + "    \"procFlag\": \"x\",\n"
            + "    \"procDt\": \"2021-03-16\"\n"
            + "  }, {\n"
            + "    \"procCd\": \"tnqvrfx\",\n"
            + "    \"rdaPosition\": 4,\n"
            + "    \"procFlag\": \"bnt\",\n"
            + "    \"procDt\": \"2021-01-13\"\n"
            + "  }, {\n"
            + "    \"procCd\": \"jsr\",\n"
            + "    \"rdaPosition\": 5,\n"
            + "    \"procFlag\": \"vft\",\n"
            + "    \"procDt\": \"2021-04-20\"\n"
            + "  }],\n"
            + "  \"medaProvId\": \"w5sp0fr9tf9wq\",\n"
            + "  \"pracLocAddr1\": \"kd925nvjcrvr\",\n"
            + "  \"pracLocAddr2\": \"n0j6mjqmhxz4p3dgx11g3mzjs6q9m42c672zkjrcw4zhgsjfzrsgvg08gjgxz7cnwffwqc659cx75qv3\",\n"
            + "  \"pracLocCity\": \"s2143xcvkn0jh399b20406whrtc3gqq71zfd2mstc1fj54r\",\n"
            + "  \"pracLocState\": \"pj\",\n"
            + "  \"pracLocZip\": \"73\",\n"
            + "  \"fissDiagCodes\": [{\n"
            + "    \"diagCd2\": \"mf\",\n"
            + "    \"bitFlags\": \"b\",\n"
            + "    \"diagPoaIndUnrecognized\": \"m\",\n"
            + "    \"rdaPosition\": 1\n"
            + "  }, {\n"
            + "    \"diagCd2\": \"zb\",\n"
            + "    \"bitFlags\": \"ww\",\n"
            + "    \"diagPoaIndUnrecognized\": \"k\",\n"
            + "    \"rdaPosition\": 2\n"
            + "  }, {\n"
            + "    \"diagCd2\": \"rzdjkrk\",\n"
            + "    \"bitFlags\": \"dkfp\",\n"
            + "    \"diagPoaIndUnrecognized\": \"t\",\n"
            + "    \"rdaPosition\": 3\n"
            + "  }, {\n"
            + "    \"diagCd2\": \"mkxgkbn\",\n"
            + "    \"diagPoaIndEnum\": \"DIAGNOSIS_PRESENT_ON_ADMISSION_INDICATOR_CLINICALLY_UNDETERMINED\",\n"
            + "    \"bitFlags\": \"gzcd\",\n"
            + "    \"rdaPosition\": 4\n"
            + "  }],\n"
            + "  \"currLoc1Unrecognized\": \"d\",\n"
            + "  \"stmtCovFromCymd\": \"2021-02-21\",\n"
            + "  \"stmtCovToCymd\": \"2021-01-31\",\n"
            + "  \"lobCdEnum\": \"BILL_FACILITY_TYPE_SPECIAL_FACILITY_OR_HOSPITAL_ASC_SURGERY\",\n"
            + "  \"servTypeCdForClinicsEnum\": \"BILL_CLASSIFICATION_FOR_CLINICS_HOSPITAL_BASED_OR_INDEPENDENT_RENAL_DIALYSIS_FACILITY\",\n"
            + "  \"freqCdEnum\": \"BILL_FREQUENCY_REPLACEMENT_OF_PRIOR_CLAIM\",\n"
            + "  \"billTypCd\": \"d86\",\n"
            + "  \"fissPayers\": [{\n"
            + "    \"beneZPayer\": {\n"
            + "      \"rdaPosition\": 1,\n"
            + "      \"payersIdUnrecognized\": \"9\",\n"
            + "      \"payersName\": \"3ktdmjdspt3hd44fk78x5j7pzhb2\",\n"
            + "      \"relIndEnum\": \"RELEASE_OF_INFORMATION_SIGNED_STATEMENT_IS_RESTRICTED_OR_LIMITED\",\n"
            + "      \"assignIndEnum\": \"ASSIGNMENT_OF_BENEFITS_INDICATOR_NO_BENEFITS_ASSIGNED\",\n"
            + "      \"providerNumber\": \"3740vsch0jr\",\n"
            + "      \"adjDcnIcn\": \"t0br374m02vgzw\",\n"
            + "      \"priorPmt\": \"752.76\",\n"
            + "      \"estAmtDue\": \"7481.13\",\n"
            + "      \"beneRelEnum\": \"PATIENT_RELATIONSHIP_CODE_CADAVER_DONOR\",\n"
            + "      \"beneLastName\": \"grnqhshtzn\",\n"
            + "      \"beneFirstName\": \"mkdh\",\n"
            + "      \"beneMidInit\": \"h\",\n"
            + "      \"beneSsnHic\": \"bx47\",\n"
            + "      \"insuredGroupName\": \"rfk\",\n"
            + "      \"beneDob\": \"2021-02-17\",\n"
            + "      \"beneSexEnum\": \"BENEFICIARY_SEX_MALE\",\n"
            + "      \"treatAuthCd\": \"s\",\n"
            + "      \"insuredSexUnrecognized\": \"w\",\n"
            + "      \"insuredRelX12Unrecognized\": \"65\"\n"
            + "    }\n"
            + "  }, {\n"
            + "    \"beneZPayer\": {\n"
            + "      \"rdaPosition\": 2,\n"
            + "      \"payersIdUnrecognized\": \"1\",\n"
            + "      \"payersName\": \"72ps68ms1gmqhd\",\n"
            + "      \"relIndUnrecognized\": \"k\",\n"
            + "      \"assignIndUnrecognized\": \"s\",\n"
            + "      \"providerNumber\": \"qqdfhg7srdn\",\n"
            + "      \"adjDcnIcn\": \"50djh691767bvf\",\n"
            + "      \"priorPmt\": \"6607.23\",\n"
            + "      \"estAmtDue\": \"22729.34\",\n"
            + "      \"beneRelUnrecognized\": \"86\",\n"
            + "      \"beneLastName\": \"xqwzrdjdv\",\n"
            + "      \"beneFirstName\": \"sn\",\n"
            + "      \"beneMidInit\": \"z\",\n"
            + "      \"beneSsnHic\": \"6pdqxfhgmr3\",\n"
            + "      \"insuredGroupName\": \"bkqjgxgsbfbtjkqr\",\n"
            + "      \"beneDob\": \"2021-02-16\",\n"
            + "      \"beneSexEnum\": \"BENEFICIARY_SEX_UNKNOWN\",\n"
            + "      \"treatAuthCd\": \"v\",\n"
            + "      \"insuredSexEnum\": \"BENEFICIARY_SEX_MALE\",\n"
            + "      \"insuredRelX12Unrecognized\": \"32\"\n"
            + "    }\n"
            + "  }, {\n"
            + "    \"beneZPayer\": {\n"
            + "      \"rdaPosition\": 3,\n"
            + "      \"payersIdUnrecognized\": \"m\",\n"
            + "      \"payersName\": \"drc9f9dd0\",\n"
            + "      \"relIndEnum\": \"RELEASE_OF_INFORMATION_SIGNED_STATEMENT_WAS_OBTAINED\",\n"
            + "      \"assignIndUnrecognized\": \"f\",\n"
            + "      \"providerNumber\": \"p4wjx3g2b3xbd\",\n"
            + "      \"adjDcnIcn\": \"z4hf\",\n"
            + "      \"priorPmt\": \"2.64\",\n"
            + "      \"estAmtDue\": \"34.82\",\n"
            + "      \"beneRelUnrecognized\": \"83\",\n"
            + "      \"beneLastName\": \"mpx\",\n"
            + "      \"beneFirstName\": \"rsfzf\",\n"
            + "      \"beneMidInit\": \"w\",\n"
            + "      \"beneSsnHic\": \"1w6c8dc9ff\",\n"
            + "      \"insuredGroupName\": \"vbxspjht\",\n"
            + "      \"beneDob\": \"2021-05-14\",\n"
            + "      \"beneSexEnum\": \"BENEFICIARY_SEX_FEMALE\",\n"
            + "      \"treatAuthCd\": \"x\",\n"
            + "      \"insuredSexUnrecognized\": \"n\",\n"
            + "      \"insuredRelX12Enum\": \"PATIENT_RELATIONSHIP_CODE_RESERVED_FOR_NATIONAL_ASSIGNMENT_80\"\n"
            + "    }\n"
            + "  }],\n"
            + "  \"fissAuditTrail\": [{\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_SUSPEND\",\n"
            + "    \"badtLoc\": \"p2nz\",\n"
            + "    \"badtOperId\": \"290\",\n"
            + "    \"badtReas\": \"mwr\",\n"
            + "    \"badtCurrDateCymd\": \"2021-03-06\",\n"
            + "    \"rdaPosition\": 1\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"f\",\n"
            + "    \"badtLoc\": \"c29\",\n"
            + "    \"badtOperId\": \"3vcwvcg\",\n"
            + "    \"badtReas\": \"5\",\n"
            + "    \"badtCurrDateCymd\": \"2021-04-26\",\n"
            + "    \"rdaPosition\": 2\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"k\",\n"
            + "    \"badtLoc\": \"17238\",\n"
            + "    \"badtOperId\": \"xn\",\n"
            + "    \"badtReas\": \"gwt\",\n"
            + "    \"badtCurrDateCymd\": \"2021-01-28\",\n"
            + "    \"rdaPosition\": 3\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_MOVE\",\n"
            + "    \"badtLoc\": \"p\",\n"
            + "    \"badtOperId\": \"nn83c\",\n"
            + "    \"badtReas\": \"fp\",\n"
            + "    \"badtCurrDateCymd\": \"2021-04-22\",\n"
            + "    \"rdaPosition\": 4\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"x\",\n"
            + "    \"badtLoc\": \"9g2d3\",\n"
            + "    \"badtOperId\": \"cb2c\",\n"
            + "    \"badtReas\": \"7\",\n"
            + "    \"badtCurrDateCymd\": \"2021-05-07\",\n"
            + "    \"rdaPosition\": 5\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"f\",\n"
            + "    \"badtLoc\": \"h\",\n"
            + "    \"badtOperId\": \"0krs564\",\n"
            + "    \"badtReas\": \"0rm8g\",\n"
            + "    \"badtCurrDateCymd\": \"2021-01-06\",\n"
            + "    \"rdaPosition\": 6\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_REJECT\",\n"
            + "    \"badtLoc\": \"fsv\",\n"
            + "    \"badtOperId\": \"7dtb8\",\n"
            + "    \"badtReas\": \"g59v\",\n"
            + "    \"badtCurrDateCymd\": \"2021-05-12\",\n"
            + "    \"rdaPosition\": 7\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_SUSPEND\",\n"
            + "    \"badtLoc\": \"7\",\n"
            + "    \"badtOperId\": \"m232ff\",\n"
            + "    \"badtReas\": \"2b\",\n"
            + "    \"badtCurrDateCymd\": \"2021-06-18\",\n"
            + "    \"rdaPosition\": 8\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_RETURN_TO_PRO\",\n"
            + "    \"badtLoc\": \"4p3\",\n"
            + "    \"badtOperId\": \"ssc8q\",\n"
            + "    \"badtReas\": \"4j\",\n"
            + "    \"badtCurrDateCymd\": \"2021-01-22\",\n"
            + "    \"rdaPosition\": 9\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_MOVE\",\n"
            + "    \"badtLoc\": \"3\",\n"
            + "    \"badtOperId\": \"4hqktrbj\",\n"
            + "    \"badtReas\": \"spzqt\",\n"
            + "    \"badtCurrDateCymd\": \"2021-03-19\",\n"
            + "    \"rdaPosition\": 10\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"8\",\n"
            + "    \"badtLoc\": \"5h1t\",\n"
            + "    \"badtOperId\": \"7v3\",\n"
            + "    \"badtReas\": \"v9hz\",\n"
            + "    \"badtCurrDateCymd\": \"2021-02-06\",\n"
            + "    \"rdaPosition\": 11\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"1\",\n"
            + "    \"badtLoc\": \"99\",\n"
            + "    \"badtOperId\": \"wr\",\n"
            + "    \"badtReas\": \"d13\",\n"
            + "    \"badtCurrDateCymd\": \"2021-02-19\",\n"
            + "    \"rdaPosition\": 12\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"f\",\n"
            + "    \"badtLoc\": \"gm\",\n"
            + "    \"badtOperId\": \"n\",\n"
            + "    \"badtReas\": \"hpp\",\n"
            + "    \"badtCurrDateCymd\": \"2021-05-22\",\n"
            + "    \"rdaPosition\": 13\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"1\",\n"
            + "    \"badtLoc\": \"1d\",\n"
            + "    \"badtOperId\": \"tt4xk0c\",\n"
            + "    \"badtReas\": \"6vr\",\n"
            + "    \"badtCurrDateCymd\": \"2021-03-21\",\n"
            + "    \"rdaPosition\": 14\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_BLANK\",\n"
            + "    \"badtLoc\": \"8f3\",\n"
            + "    \"badtOperId\": \"pv3h5b4\",\n"
            + "    \"badtReas\": \"nn\",\n"
            + "    \"badtCurrDateCymd\": \"2021-04-24\",\n"
            + "    \"rdaPosition\": 15\n"
            + "  }, {\n"
            + "    \"badtStatusEnum\": \"CLAIM_STATUS_MOVE\",\n"
            + "    \"badtLoc\": \"rp5\",\n"
            + "    \"badtOperId\": \"qf77q4w0\",\n"
            + "    \"badtReas\": \"qz\",\n"
            + "    \"badtCurrDateCymd\": \"2021-01-09\",\n"
            + "    \"rdaPosition\": 16\n"
            + "  }, {\n"
            + "    \"badtStatusUnrecognized\": \"9\",\n"
            + "    \"badtLoc\": \"1pj7\",\n"
            + "    \"badtOperId\": \"j\",\n"
            + "    \"badtReas\": \"g32q\",\n"
            + "    \"badtCurrDateCymd\": \"2021-03-28\",\n"
            + "    \"rdaPosition\": 17\n"
            + "  }],\n"
            + "  \"rejectCd\": \"43\",\n"
            + "  \"fullPartDenInd\": \"h\",\n"
            + "  \"nonPayInd\": \"m\",\n"
            + "  \"xrefDcnNbr\": \"pc9jbzhcbf\",\n"
            + "  \"adjReqCdEnum\": \"ADJUSTMENT_REQUESTOR_CODE_PEER_REVIEW_ORGANIZATION\",\n"
            + "  \"adjReasCd\": \"1\",\n"
            + "  \"cancelXrefDcn\": \"fx\",\n"
            + "  \"cancelDateCymd\": \"2021-05-16\",\n"
            + "  \"cancAdjCdEnum\": \"CANCEL_ADJUSTMENT_CODE_SCRAMBLE_HIC\",\n"
            + "  \"originalXrefDcn\": \"x4446qjt9g872rkjm7\",\n"
            + "  \"paidDtCymd\": \"2021-02-19\",\n"
            + "  \"admDateCymd\": \"2021-06-27\",\n"
            + "  \"admSourceUnrecognized\": \"9\",\n"
            + "  \"primaryPayerCodeUnrecognized\": \"m\",\n"
            + "  \"attendPhysId\": \"kd8gjq252v7k8mh\",\n"
            + "  \"attendPhysLname\": \"xpznftd\",\n"
            + "  \"attendPhysFname\": \"vzw1nc3853kc\",\n"
            + "  \"attendPhysMint\": \"b\",\n"
            + "  \"attendPhysFlagUnrecognized\": \"h\",\n"
            + "  \"operatingPhysId\": \"5\",\n"
            + "  \"operPhysLname\": \"wztqr4pxv4m03s44\",\n"
            + "  \"operPhysFname\": \"5v\",\n"
            + "  \"operPhysMint\": \"8\",\n"
            + "  \"operPhysFlagEnum\": \"PHYSICIAN_FLAG_NO\",\n"
            + "  \"othPhysId\": \"r6r\",\n"
            + "  \"othPhysLname\": \"9s957dw8\",\n"
            + "  \"othPhysFname\": \"f5zghtnjb4t75\",\n"
            + "  \"othPhysMint\": \"d\",\n"
            + "  \"othPhysFlagEnum\": \"PHYSICIAN_FLAG_NO\",\n"
            + "  \"xrefHicNbr\": \"1q7s6r30rs\",\n"
            + "  \"procNewHicIndUnrecognized\": \"j\",\n"
            + "  \"newHic\": \"pn0xw\",\n"
            + "  \"reposIndEnum\": \"REPOSITORY_INDICATOR_HIC_HAS_BEEN_MOVED\",\n"
            + "  \"reposHic\": \"kbrdt24\",\n"
            + "  \"mbiSubmBeneIndUnrecognized\": \"n\",\n"
            + "  \"adjMbiIndUnrecognized\": \"d\",\n"
            + "  \"adjMbi\": \"1s\",\n"
            + "  \"medicalRecordNo\": \"c6v\",\n"
            + "  \"stmtCovFromCymdText\": \"2021-02-21\",\n"
            + "  \"stmtCovToCymdText\": \"2021-01-31\",\n"
            + "  \"admDateCymdText\": \"2021-06-27\"\n"
            + "}",
        json);
  }
}
