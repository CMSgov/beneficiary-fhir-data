[project]
name = "bfd-workspace"
version = "0.1.0"
description = "BFD Python workspace for unified dependency management"
requires-python = ">=3.13,<3.14"

[tool.uv.workspace]
members = [
    "bfd-model-idr",
    "bfd-pipeline/bfd-pipeline-idr",
    "bfd-server-ng/codegen",
    "utils/synthetic-load-converter",
    "utils/locust_tests",
]

[tool.uv]
dev-dependencies = [
    "ruff==0.13.2",
    "pyright==1.1.406",
    "pytest==8.4.2",
]

[tool.ruff]
line-length = 100

[tool.ruff.lint]
select = [
    "D",    # pydocstyle
    "E501", # line-length
    "E",    # pycodestyle
    "F",    # Pyflakes
    "UP",   # pyupgrade
    "B",    # flake8-bugbear
    "SIM",  # flake8-simplify
    "I",    # isort
    "ANN",  # flake8-annotations
    "LOG",  # flake8-logging
    "G",    # flake8-logging-format
    "PT",   # flake8-pytest-style
    "RSE",  # flake8-raise
    "PIE",  # flake8-pie
    "RET",  # flake8-return
    "SLF",  # flake8-self
    "ARG",  # flake8-unused-arguments
    "PTH",  # flake8-use-pathlib
    "PLE",  # pylint-error
    "PLW",  # pylint-warning
    "PERF", # perflint
    "FURB", # refurb
    "RUF",  # ruff-specific
]
# Don't require docstrings
ignore = ["D100", "D101", "D102", "D103", "D104", "D105", "D107", "D205"]

[tool.ruff.lint.pydocstyle]
convention = "pep257"

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
docstring-code-format = true

[tool.pyright]
typeCheckingMode = "strict"
venvPath = "."
venv = ".venv"
