<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1274px" preserveAspectRatio="none" style="width:1330px;height:1274px;background:#FFFFFF;" version="1.1" viewBox="0 0 1330 1274" width="1330px" zoomAndPan="magnify"><defs/><g><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="468" x="432.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="458" x="437.5" y="28.5352">server-regression Lambda Deployment and Execution Sequence</text><rect height="337.416" style="stroke:#000000;stroke-width:1.5;fill:none;" width="851.5" x="10" y="135.9766"/><rect height="689.1426" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1314" x="10" y="487.3926"/><rect height="512.5898" style="stroke:#000000;stroke-width:1.5;fill:none;" width="869.5" x="444.5" y="642.9453"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="192.5" x2="192.5" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="338.5" x2="338.5" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="691.5" x2="691.5" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="793.5" x2="793.5" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1020" x2="1020" y1="118.9766" y2="1193.5352"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1262" x2="1262" y1="118.9766" y2="1193.5352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="20" y="116.0234">operator</text><ellipse cx="53" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53,58.9883 L53,85.9883 M40,66.9883 L66,66.9883 M53,85.9883 L40,100.9883 M53,85.9883 L66,100.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="20" y="1206.0703">operator</text><ellipse cx="53" cy="1217.5234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53,1225.5234 L53,1252.5234 M40,1233.5234 L66,1233.5234 M53,1252.5234 L40,1267.5234 M53,1252.5234 L66,1267.5234 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="167.5" y="116.0234">github</text><path d="M175,66.4883 C175,56.4883 193,56.4883 193,56.4883 C193,56.4883 211,56.4883 211,66.4883 L211,92.4883 C211,102.4883 193,102.4883 193,102.4883 C193,102.4883 175,102.4883 175,92.4883 L175,66.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M175,66.4883 C175,76.4883 193,76.4883 193,76.4883 C193,76.4883 211,76.4883 211,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="167.5" y="1206.0703">github</text><path d="M175,1219.0234 C175,1209.0234 193,1209.0234 193,1209.0234 C193,1209.0234 211,1209.0234 211,1219.0234 L211,1245.0234 C211,1255.0234 193,1255.0234 193,1255.0234 C193,1255.0234 175,1255.0234 175,1245.0234 L175,1219.0234 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M175,1219.0234 C175,1229.0234 193,1229.0234 193,1229.0234 C193,1229.0234 211,1229.0234 211,1219.0234 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="233.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="240.5" y="108.0234">bfd-server-regression-build</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="233.5" y="1192.5352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="240.5" y="1213.0703">bfd-server-regression-build</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="454.5" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="461.5" y="108.0234">deployment pipeline</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="454.5" y="1192.5352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="461.5" y="1213.0703">deployment pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="658.5" y="116.0234">AWS ECR</text><path d="M674,66.4883 C674,56.4883 692,56.4883 692,56.4883 C692,56.4883 710,56.4883 710,66.4883 L710,92.4883 C710,102.4883 692,102.4883 692,102.4883 C692,102.4883 674,102.4883 674,92.4883 L674,66.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M674,66.4883 C674,76.4883 692,76.4883 692,76.4883 C692,76.4883 710,76.4883 710,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="658.5" y="1206.0703">AWS ECR</text><path d="M674,1219.0234 C674,1209.0234 692,1209.0234 692,1209.0234 C692,1209.0234 710,1209.0234 710,1219.0234 L710,1245.0234 C710,1255.0234 692,1255.0234 692,1255.0234 C692,1255.0234 674,1255.0234 674,1245.0234 L674,1219.0234 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M674,1219.0234 C674,1229.0234 692,1229.0234 692,1229.0234 C692,1229.0234 710,1229.0234 710,1219.0234 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="735.5" y="116.0234">parameter store</text><path d="M775.5,66.4883 C775.5,56.4883 793.5,56.4883 793.5,56.4883 C793.5,56.4883 811.5,56.4883 811.5,66.4883 L811.5,92.4883 C811.5,102.4883 793.5,102.4883 793.5,102.4883 C793.5,102.4883 775.5,102.4883 775.5,92.4883 L775.5,66.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M775.5,66.4883 C775.5,76.4883 793.5,76.4883 793.5,76.4883 C793.5,76.4883 811.5,76.4883 811.5,66.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="735.5" y="1206.0703">parameter store</text><path d="M775.5,1219.0234 C775.5,1209.0234 793.5,1209.0234 793.5,1209.0234 C793.5,1209.0234 811.5,1209.0234 811.5,1219.0234 L811.5,1245.0234 C811.5,1255.0234 793.5,1255.0234 793.5,1255.0234 C793.5,1255.0234 775.5,1255.0234 775.5,1245.0234 L775.5,1219.0234 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M775.5,1219.0234 C775.5,1229.0234 793.5,1229.0234 793.5,1229.0234 C793.5,1229.0234 811.5,1229.0234 811.5,1219.0234 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="969" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="976" y="108.0234">AWS Lambda</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="969" y="1192.5352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="976" y="1213.0703">AWS Lambda</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="1220" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1227" y="108.0234">sqs queue</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="1220" y="1192.5352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1227" y="1213.0703">sqs queue</text><path d="M10,135.9766 L183,135.9766 L183,143.2871 L173,153.2871 L10,153.2871 L10,135.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="337.416" style="stroke:#000000;stroke-width:1.5;" width="851.5" x="10" y="135.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="25" y="149.5449">Image Deployment</text><polygon fill="#181818" points="181,170.5977,191,174.5977,181,178.5977,185,174.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="187" y1="174.5977" y2="174.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="60" y="169.8555">Submit change set</text><polygon fill="#181818" points="64,184.5977,54,188.5977,64,192.5977,60,188.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="192" y1="188.5977" y2="188.5977"/><polygon fill="#181818" points="327,213.9082,337,217.9082,327,221.9082,331,217.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="333" y1="217.9082" y2="217.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="60" y="213.166">Trigger Image Build</text><polygon fill="#181818" points="204,243.2188,194,247.2188,204,251.2188,200,247.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="338" y1="247.2188" y2="247.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="210" y="242.4766">Request change set</text><polygon fill="#181818" points="327,272.5293,337,276.5293,327,280.5293,331,276.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="193" x2="333" y1="276.5293" y2="276.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="200" y="271.7871">Return change set</text><line style="stroke:#181818;stroke-width:1.0;" x1="339" x2="381" y1="321.1504" y2="321.1504"/><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="381" y1="321.1504" y2="334.1504"/><line style="stroke:#181818;stroke-width:1.0;" x1="340" x2="381" y1="334.1504" y2="334.1504"/><polygon fill="#181818" points="350,330.1504,340,334.1504,350,338.1504,346,334.1504" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="346" y="301.0977">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="346" y="316.4082">build lambda Docker image</text><polygon fill="#181818" points="680,374.7715,690,378.7715,680,382.7715,684,378.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339" x2="686" y1="378.7715" y2="378.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="346" y="358.7188">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="346" y="374.0293">push Docker image to bfd-mgmt-server-regression</text><polygon fill="#181818" points="350,388.7715,340,392.7715,350,396.7715,346,392.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344" x2="691" y1="392.7715" y2="392.7715"/><polygon fill="#181818" points="781.5,433.3926,791.5,437.3926,781.5,441.3926,785.5,437.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="339" x2="787.5" y1="437.3926" y2="437.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="346" y="417.3398">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="346" y="432.6504">write image tag SSM parameter</text><polygon fill="#181818" points="350,447.3926,340,451.3926,350,455.3926,346,451.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="344" x2="792.5" y1="451.3926" y2="451.3926"/><polygon fill="#181818" points="64,461.3926,54,465.3926,64,469.3926,60,465.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="338" y1="465.3926" y2="465.3926"/><path d="M10,487.3926 L221,487.3926 L221,494.7031 L211,504.7031 L10,504.7031 L10,487.3926 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="689.1426" style="stroke:#000000;stroke-width:1.5;" width="1314" x="10" y="487.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166" x="25" y="500.9609">BFD Deployment Excerpt</text><polygon fill="#181818" points="181,522.0137,191,526.0137,181,530.0137,185,526.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="187" y1="526.0137" y2="526.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="60" y="521.2715">Submit change set</text><polygon fill="#181818" points="64,536.0137,54,540.0137,64,544.0137,60,540.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="192" y1="540.0137" y2="540.0137"/><polygon fill="#181818" points="519.5,565.3242,529.5,569.3242,519.5,573.3242,523.5,569.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53" x2="525.5" y1="569.3242" y2="569.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="60" y="564.582">Trigger Deployment</text><polygon fill="#181818" points="204,594.6348,194,598.6348,204,602.6348,200,598.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="530.5" y1="598.6348" y2="598.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="210" y="593.8926">Request change set</text><polygon fill="#181818" points="519.5,623.9453,529.5,627.9453,519.5,631.9453,523.5,627.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="193" x2="525.5" y1="627.9453" y2="627.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="200" y="623.2031">Return change set</text><path d="M444.5,642.9453 L518.5,642.9453 L518.5,650.2559 L508.5,660.2559 L444.5,660.2559 L444.5,642.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="512.5898" style="stroke:#000000;stroke-width:1.5;" width="869.5" x="444.5" y="642.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="459.5" y="656.5137">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="272" x="533.5" y="655.5801">[ENV for ENV in ("TEST", "PROD-SBX", "PROD")]</text><line style="stroke:#181818;stroke-width:1.0;" x1="531.5" x2="573.5" y1="696.877" y2="696.877"/><line style="stroke:#181818;stroke-width:1.0;" x1="573.5" x2="573.5" y1="696.877" y2="709.877"/><line style="stroke:#181818;stroke-width:1.0;" x1="532.5" x2="573.5" y1="709.877" y2="709.877"/><polygon fill="#181818" points="542.5,705.877,532.5,709.877,542.5,713.877,538.5,709.877" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="538.5" y="676.8242">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="538.5" y="692.1348">plan and apply</text><polygon fill="#181818" points="781.5,750.498,791.5,754.498,781.5,758.498,785.5,754.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="531.5" x2="787.5" y1="754.498" y2="754.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="538.5" y="734.4453">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="538.5" y="749.7559">Request latest Docker image tag</text><polygon fill="#181818" points="542.5,779.8086,532.5,783.8086,542.5,787.8086,538.5,783.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="536.5" x2="792.5" y1="783.8086" y2="783.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="548.5" y="779.0664">Return latest Docker image tage</text><polygon fill="#181818" points="1008,824.4297,1018,828.4297,1008,832.4297,1012,828.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="531.5" x2="1014" y1="828.4297" y2="828.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="538.5" y="808.377">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="538.5" y="823.6875">deploy server-regression Lambda to ENV using tag</text><polygon fill="#181818" points="703,853.7402,693,857.7402,703,861.7402,699,857.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="697" x2="1019" y1="857.7402" y2="857.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="709" y="852.998">Retrieve tagged server-regression Docker Image</text><polygon fill="#181818" points="1008,867.7402,1018,871.7402,1008,875.7402,1012,871.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="692" x2="1014" y1="871.7402" y2="871.7402"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020" x2="1062" y1="916.3613" y2="916.3613"/><line style="stroke:#181818;stroke-width:1.0;" x1="1062" x2="1062" y1="916.3613" y2="929.3613"/><line style="stroke:#181818;stroke-width:1.0;" x1="1021" x2="1062" y1="929.3613" y2="929.3613"/><polygon fill="#181818" points="1031,925.3613,1021,929.3613,1031,933.3613,1027,929.3613" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1027" y="896.3086">Create server-regression from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1027" y="911.6191">bfd-mgmt-server-regression image</text><polygon fill="#181818" points="542.5,939.3613,532.5,943.3613,542.5,947.3613,538.5,943.3613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="536.5" x2="1019" y1="943.3613" y2="943.3613"/><polygon fill="#181818" points="1250,983.9824,1260,987.9824,1250,991.9824,1254,987.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="531.5" x2="1256" y1="987.9824" y2="987.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="538.5" y="967.9297">jenkinsfile:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="538.5" y="983.2402">write server-regression ENV invocation event to SQS</text><polygon fill="#181818" points="542.5,997.9824,532.5,1001.9824,542.5,1005.9824,538.5,1001.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="536.5" x2="1261" y1="1001.9824" y2="1001.9824"/><polygon fill="#181818" points="1250,1042.6035,1260,1046.6035,1250,1050.6035,1254,1046.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1020" x2="1256" y1="1046.6035" y2="1046.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1027" y="1026.5508">server-regression:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1027" y="1041.8613">polls messages</text><polygon fill="#181818" points="1031,1071.9141,1021,1075.9141,1031,1079.9141,1027,1075.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1025" x2="1261" y1="1075.9141" y2="1075.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1037" y="1071.1719">Returns messages</text><line style="stroke:#181818;stroke-width:1.0;" x1="1020" x2="1062" y1="1120.5352" y2="1120.5352"/><line style="stroke:#181818;stroke-width:1.0;" x1="1062" x2="1062" y1="1120.5352" y2="1133.5352"/><line style="stroke:#181818;stroke-width:1.0;" x1="1021" x2="1062" y1="1133.5352" y2="1133.5352"/><polygon fill="#181818" points="1031,1129.5352,1021,1133.5352,1031,1137.5352,1027,1133.5352" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1027" y="1100.4824">server-regression:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="1027" y="1115.793">consumes event and runs on ENV</text><polygon fill="#181818" points="542.5,1143.5352,532.5,1147.5352,542.5,1151.5352,538.5,1147.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="536.5" x2="1019" y1="1147.5352" y2="1147.5352"/><polygon fill="#181818" points="64,1164.5352,54,1168.5352,64,1172.5352,60,1168.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58" x2="530.5" y1="1168.5352" y2="1168.5352"/><!--MD5=[8d26209ff2c5773ea4314df86e8b4e20]
@startuml server-regression
title server-regression Lambda Deployment and Execution Sequence
actor operator
database "github"
participant "bfd-server-regression-build"
participant "deployment pipeline"
database "AWS ECR"
database "parameter store"
participant "AWS Lambda"
participant "sqs queue"
group Image Deployment
    operator -> github: Submit change set
    github - -> operator
    operator -> "bfd-server-regression-build": Trigger Image Build
    "bfd-server-regression-build" -> github: Request change set
    github - -> "bfd-server-regression-build": Return change set
    "bfd-server-regression-build" -> "bfd-server-regression-build": build-push.sh:\nbuild lambda Docker image
    "bfd-server-regression-build" -> "AWS ECR": build-push.sh:\npush Docker image to bfd-mgmt-server-regression
    "AWS ECR" - -> "bfd-server-regression-build"
    "bfd-server-regression-build" -> "parameter store": build-push.sh:\nwrite image tag SSM parameter
    "parameter store" - -> "bfd-server-regression-build"
    "bfd-server-regression-build" - -> operator
end
group BFD Deployment Excerpt
    operator -> github: Submit change set
    github - -> operator
    operator -> "deployment pipeline": Trigger Deployment
    "deployment pipeline" -> github: Request change set
    github - -> "deployment pipeline": Return change set
        loop ENV for ENV in ("TEST", "PROD-SBX", "PROD")
            "deployment pipeline" -> "deployment pipeline": terraform:\nplan and apply
            "deployment pipeline" -> "parameter store": terraform:\nRequest latest Docker image tag
            "parameter store" - -> "deployment pipeline": Return latest Docker image tage
            "deployment pipeline" -> "AWS Lambda": terraform:\ndeploy server-regression Lambda to ENV using tag
            "AWS Lambda" -> "AWS ECR": Retrieve tagged server-regression Docker Image
            "AWS ECR" - -> "AWS Lambda"
            "AWS Lambda" -> "AWS Lambda": Create server-regression from\nbfd-mgmt-server-regression image
            "AWS Lambda" - -> "deployment pipeline"
            "deployment pipeline" -> "sqs queue": jenkinsfile:\nwrite server-regression ENV invocation event to SQS
            "sqs queue" - -> "deployment pipeline"
            "AWS Lambda" -> "sqs queue":server-regression:\npolls messages
            "sqs queue" - -> "AWS Lambda":Returns messages
            "AWS Lambda" -> "AWS Lambda":server-regression:\nconsumes event and runs on ENV
            "AWS Lambda" - -> "deployment pipeline"
        end
    "deployment pipeline" - -> operator
end
@enduml

PlantUML version 1.2022.6(Tue Jun 21 12:34:49 CDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>