<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1329px" preserveAspectRatio="none" style="width:1314px;height:1329px;background:#FFFFFF;" version="1.1" viewBox="0 0 1314 1329" width="1314px" zoomAndPan="magnify"><defs/><g><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="427" x="442.25" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="417" x="447.25" y="28.5352">server-regression Lambda Deployment and Run Sequence</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="181.5" x2="181.5" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="327.5" x2="327.5" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="520.5" x2="520.5" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="680.5" x2="680.5" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="786.5" x2="786.5" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1009" x2="1009" y1="104.9766" y2="1251.4668"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1251" x2="1251" y1="104.9766" y2="1251.4668"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="12" y="94.0234">operator</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="5" y="1250.4668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="12" y="1271.002">operator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="156.5" y="102.0234">github</text><path d="M164,52.4883 C164,42.4883 182,42.4883 182,42.4883 C182,42.4883 200,42.4883 200,52.4883 L200,78.4883 C200,88.4883 182,88.4883 182,88.4883 C182,88.4883 164,88.4883 164,78.4883 L164,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M164,52.4883 C164,62.4883 182,62.4883 182,62.4883 C182,62.4883 200,62.4883 200,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="156.5" y="1264.002">github</text><path d="M164,1276.9551 C164,1266.9551 182,1266.9551 182,1266.9551 C182,1266.9551 200,1266.9551 200,1276.9551 L200,1302.9551 C200,1312.9551 182,1312.9551 182,1312.9551 C182,1312.9551 164,1312.9551 164,1302.9551 L164,1276.9551 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M164,1276.9551 C164,1286.9551 182,1286.9551 182,1286.9551 C182,1286.9551 200,1286.9551 200,1276.9551 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="222.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="229.5" y="94.0234">bfd-server-regression-build</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="222.5" y="1250.4668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="229.5" y="1271.002">bfd-server-regression-build</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="443.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="450.5" y="94.0234">deployment pipeline</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154" x="443.5" y="1250.4668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="450.5" y="1271.002">deployment pipeline</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="647.5" y="102.0234">AWS ECR</text><path d="M663,52.4883 C663,42.4883 681,42.4883 681,42.4883 C681,42.4883 699,42.4883 699,52.4883 L699,78.4883 C699,88.4883 681,88.4883 681,88.4883 C681,88.4883 663,88.4883 663,78.4883 L663,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M663,52.4883 C663,62.4883 681,62.4883 681,62.4883 C681,62.4883 699,62.4883 699,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="647.5" y="1264.002">AWS ECR</text><path d="M663,1276.9551 C663,1266.9551 681,1266.9551 681,1266.9551 C681,1266.9551 699,1266.9551 699,1276.9551 L699,1302.9551 C699,1312.9551 681,1312.9551 681,1312.9551 C681,1312.9551 663,1312.9551 663,1302.9551 L663,1276.9551 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M663,1276.9551 C663,1286.9551 681,1286.9551 681,1286.9551 C681,1286.9551 699,1286.9551 699,1276.9551 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="724.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="731.5" y="94.0234">parameter store</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="724.5" y="1250.4668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="731.5" y="1271.002">parameter store</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="958" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="965" y="94.0234">AWS Lambda</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="958" y="1250.4668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="965" y="1271.002">AWS Lambda</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="1209" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1216" y="94.0234">sqs queue</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="1209" y="1250.4668"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1216" y="1271.002">sqs queue</text><path d="M239,119.9766 L239,144.9766 L609,144.9766 L609,129.9766 L599,119.9766 L239,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M599,119.9766 L599,129.9766 L609,129.9766 L599,119.9766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="264.5" y="137.5449">distinct Jenkins pipeline jobs ran asynchronously</text><polygon fill="#181818" points="170,167.5977,180,171.5977,170,175.5977,174,171.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="176" y1="171.5977" y2="171.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="49" y="166.8555">Submit change set</text><polygon fill="#181818" points="53,181.5977,43,185.5977,53,189.5977,49,185.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="181" y1="185.5977" y2="185.5977"/><polygon fill="#181818" points="508.5,210.9082,518.5,214.9082,508.5,218.9082,512.5,214.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="514.5" y1="214.9082" y2="214.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="49" y="210.166">Trigger Deployment</text><polygon fill="#181818" points="316,240.2188,326,244.2188,316,248.2188,320,244.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="322" y1="244.2188" y2="244.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="49" y="239.4766">Trigger Image Build</text><polygon fill="#181818" points="193,269.5293,183,273.5293,193,277.5293,189,273.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="187" x2="327" y1="273.5293" y2="273.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="199" y="268.7871">Request change set</text><polygon fill="#181818" points="316,298.8398,326,302.8398,316,306.8398,320,302.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182" x2="322" y1="302.8398" y2="302.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="189" y="298.0977">Return change set</text><line style="stroke:#181818;stroke-width:1.0;" x1="328" x2="370" y1="347.4609" y2="347.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="370" y1="347.4609" y2="360.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="329" x2="370" y1="360.4609" y2="360.4609"/><polygon fill="#181818" points="339,356.4609,329,360.4609,339,364.4609,335,360.4609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="335" y="327.4082">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="335" y="342.7188">build lambda Docker image</text><polygon fill="#181818" points="669,401.082,679,405.082,669,409.082,673,405.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="328" x2="675" y1="405.082" y2="405.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="335" y="385.0293">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="335" y="400.3398">push Docker image to bfd-mgmt-server-regression</text><polygon fill="#181818" points="339,415.082,329,419.082,339,423.082,335,419.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="333" x2="680" y1="419.082" y2="419.082"/><polygon fill="#181818" points="774.5,459.7031,784.5,463.7031,774.5,467.7031,778.5,463.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="328" x2="780.5" y1="463.7031" y2="463.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="335" y="443.6504">build-push.sh:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="335" y="458.9609">write image tag SSM parameter</text><polygon fill="#181818" points="339,473.7031,329,477.7031,339,481.7031,335,477.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="333" x2="785.5" y1="477.7031" y2="477.7031"/><polygon fill="#181818" points="53,487.7031,43,491.7031,53,495.7031,49,491.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="327" y1="491.7031" y2="491.7031"/><polygon fill="#181818" points="193,517.0137,183,521.0137,193,525.0137,189,521.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="187" x2="519.5" y1="521.0137" y2="521.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="199" y="516.2715">Request change set</text><polygon fill="#181818" points="508.5,546.3242,518.5,550.3242,508.5,554.3242,512.5,550.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182" x2="514.5" y1="550.3242" y2="550.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="189" y="545.582">Return change set</text><line style="stroke:#181818;stroke-width:1.0;" x1="520.5" x2="562.5" y1="594.9453" y2="594.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="562.5" x2="562.5" y1="594.9453" y2="607.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="521.5" x2="562.5" y1="607.9453" y2="607.9453"/><polygon fill="#181818" points="531.5,603.9453,521.5,607.9453,531.5,611.9453,527.5,607.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="527.5" y="574.8926">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="527.5" y="590.2031">read yaml files</text><polygon fill="#181818" points="774.5,648.5664,784.5,652.5664,774.5,656.5664,778.5,652.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="520.5" x2="780.5" y1="652.5664" y2="652.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="527.5" y="632.5137">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="527.5" y="647.8242">Request latest Docker image tag</text><polygon fill="#181818" points="531.5,677.877,521.5,681.877,531.5,685.877,527.5,681.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="785.5" y1="681.877" y2="681.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="537.5" y="677.1348">Return latest Docker image tage</text><polygon fill="#181818" points="997,722.498,1007,726.498,997,730.498,1001,726.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="520.5" x2="1003" y1="726.498" y2="726.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="527.5" y="706.4453">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="527.5" y="721.7559">deploy server-regression Lambda to TEST using tag</text><polygon fill="#181818" points="692,751.8086,682,755.8086,692,759.8086,688,755.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="686" x2="1008" y1="755.8086" y2="755.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="698" y="751.0664">Retrieve tagged server-regression Docker Image</text><polygon fill="#181818" points="997,765.8086,1007,769.8086,997,773.8086,1001,769.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="681" x2="1003" y1="769.8086" y2="769.8086"/><line style="stroke:#181818;stroke-width:1.0;" x1="1009" x2="1051" y1="814.4297" y2="814.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1051" x2="1051" y1="814.4297" y2="827.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1051" y1="827.4297" y2="827.4297"/><polygon fill="#181818" points="1020,823.4297,1010,827.4297,1020,831.4297,1016,827.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1016" y="794.377">Create server-regression from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1016" y="809.6875">bfd-mgmt-server-regression image</text><polygon fill="#181818" points="531.5,837.4297,521.5,841.4297,531.5,845.4297,527.5,841.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="1008" y1="841.4297" y2="841.4297"/><polygon fill="#181818" points="1239,882.0508,1249,886.0508,1239,890.0508,1243,886.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="520.5" x2="1245" y1="886.0508" y2="886.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="527.5" y="865.998">jenkinsfile:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="527.5" y="881.3086">write server-regression invocation event to SQS</text><polygon fill="#181818" points="531.5,896.0508,521.5,900.0508,531.5,904.0508,527.5,900.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="1250" y1="900.0508" y2="900.0508"/><polygon fill="#181818" points="1239,940.6719,1249,944.6719,1239,948.6719,1243,944.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1009" x2="1245" y1="944.6719" y2="944.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1016" y="924.6191">server-regression:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1016" y="939.9297">polls messages</text><polygon fill="#181818" points="1020,969.9824,1010,973.9824,1020,977.9824,1016,973.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1014" x2="1250" y1="973.9824" y2="973.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1026" y="969.2402">Returns messages</text><line style="stroke:#181818;stroke-width:1.0;" x1="1009" x2="1051" y1="1018.6035" y2="1018.6035"/><line style="stroke:#181818;stroke-width:1.0;" x1="1051" x2="1051" y1="1018.6035" y2="1031.6035"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1051" y1="1031.6035" y2="1031.6035"/><polygon fill="#181818" points="1020,1027.6035,1010,1031.6035,1020,1035.6035,1016,1031.6035" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1016" y="998.5508">server-regression:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1016" y="1013.8613">consumes event and runs on TEST</text><polygon fill="#181818" points="997,1072.2246,1007,1076.2246,997,1080.2246,1001,1076.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="520.5" x2="1003" y1="1076.2246" y2="1076.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="527.5" y="1056.1719">terraform:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="527.5" y="1071.4824">deploy server-regression Lambda to PROD-SBX</text><path d="M459,1089.2246 L459,1114.2246 L1070,1114.2246 L1070,1099.2246 L1060,1089.2246 L459,1089.2246 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1060,1089.2246 L1060,1099.2246 L1070,1099.2246 L1060,1089.2246 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364" x="578.25" y="1106.793">assume deployment process is the same as in TEST above</text><polygon fill="#181818" points="531.5,1121.5352,521.5,1125.5352,531.5,1129.5352,527.5,1125.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="1008" y1="1125.5352" y2="1125.5352"/><polygon fill="#181818" points="1239,1166.1563,1249,1170.1563,1239,1174.1563,1243,1170.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="520.5" x2="1245" y1="1170.1563" y2="1170.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="527.5" y="1150.1035">jenkinsfile:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="527.5" y="1165.4141">write server-regression invocation event to SQS</text><polygon fill="#181818" points="531.5,1180.1563,521.5,1184.1563,531.5,1188.1563,527.5,1184.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="525.5" x2="1250" y1="1184.1563" y2="1184.1563"/><path d="M463,1197.1563 L463,1222.1563 L1307,1222.1563 L1307,1207.1563 L1297,1197.1563 L463,1197.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1297,1197.1563 L1297,1207.1563 L1307,1207.1563 L1297,1197.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="427" x="667.25" y="1214.7246">assume server-regression run process is the same as in TEST above</text><polygon fill="#181818" points="53,1229.4668,43,1233.4668,53,1237.4668,49,1233.4668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="519.5" y1="1233.4668" y2="1233.4668"/><!--MD5=[a53dd26e9b040cf334f9850cc93fa365]
@startuml server-regression
title server-regression Lambda Deployment and Run Sequence
participant operator
database "github"
participant "bfd-server-regression-build"
participant "deployment pipeline"
database "AWS ECR"
participant "parameter store"
participant "AWS Lambda"
participant "sqs queue"
note over "bfd-server-regression-build","deployment pipeline": distinct Jenkins pipeline jobs ran asynchronously
operator -> github: Submit change set
github - -> operator
operator -> "deployment pipeline": Trigger Deployment
operator -> "bfd-server-regression-build": Trigger Image Build
"bfd-server-regression-build" -> github: Request change set
github - -> "bfd-server-regression-build": Return change set
"bfd-server-regression-build" -> "bfd-server-regression-build": build-push.sh:\nbuild lambda Docker image
"bfd-server-regression-build" -> "AWS ECR": build-push.sh:\npush Docker image to bfd-mgmt-server-regression
"AWS ECR" - -> "bfd-server-regression-build"
"bfd-server-regression-build" -> "parameter store": build-push.sh:\nwrite image tag SSM parameter
"parameter store" - -> "bfd-server-regression-build" 
"bfd-server-regression-build" - -> operator
"deployment pipeline" -> github: Request change set
github - -> "deployment pipeline": Return change set
"deployment pipeline" -> "deployment pipeline": terraform:\nread yaml files
"deployment pipeline" -> "parameter store": terraform:\nRequest latest Docker image tag
"parameter store" - -> "deployment pipeline": Return latest Docker image tage
"deployment pipeline" -> "AWS Lambda": terraform:\ndeploy server-regression Lambda to TEST using tag
"AWS Lambda" -> "AWS ECR": Retrieve tagged server-regression Docker Image
"AWS ECR" - -> "AWS Lambda"
"AWS Lambda" -> "AWS Lambda": Create server-regression from\nbfd-mgmt-server-regression image
"AWS Lambda" - -> "deployment pipeline"
"deployment pipeline" -> "sqs queue": jenkinsfile:\nwrite server-regression invocation event to SQS
"sqs queue" - -> "deployment pipeline"
"AWS Lambda" -> "sqs queue":server-regression:\npolls messages
"sqs queue" - -> "AWS Lambda":Returns messages
"AWS Lambda" -> "AWS Lambda":server-regression:\nconsumes event and runs on TEST
"deployment pipeline" -> "AWS Lambda": terraform:\ndeploy server-regression Lambda to PROD-SBX
note over "deployment pipeline", "AWS Lambda": assume deployment process is the same as in TEST above
"AWS Lambda" - -> "deployment pipeline"
"deployment pipeline" -> "sqs queue": jenkinsfile:\nwrite server-regression invocation event to SQS
"sqs queue" - -> "deployment pipeline"
note over "deployment pipeline", "sqs queue": assume server-regression run process is the same as in TEST above
"deployment pipeline" - -> operator
@enduml

PlantUML version 1.2022.6(Tue Jun 21 13:34:49 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>