# CIPHER FILE HEADER, DO NOT REMOVE: <<CIPHER>>AgV4tSbiCkFPHt6f9GXXK2uArhpXuvo-Vug6v0jULbcEpYAAdAACAAtBcHBsaWNhdGlvbgAGY2lwaGVyABVhd3MtY3J5cHRvLXB1YmxpYy1rZXkAREEvV2xzaVNtcC85WGZObWdGamo5U09xS1VlWDhnL0Q0QytwQUUzZlFSSndXbWhPUldvSHlsVHdQSy9scm41RDRxQT09AAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLWVhc3QtMTo1NzczNzM4MzE3MTE6a2V5L21yay0xNWZhNGU2MzcxOTI0YmZmYTk3NjRjMjE4ZjdhNzY3YQC4AQIBAHic22-xSw25t2N5FjIsl0BfswHAJC80QDtF4qY0HagMgAE_haZ4aU2MWdEr0SvYn5yPAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMWfiNt4AK7cZaHgnYAgEQgDud3tmTxlCJ4xJPzkCO7SeUd93zYPaYdEGSBhtPd4eq9IX5v1FUXKR2tGjC-Lf71wNF5OarxIH4_0JydwIAABAAYBalLYMgUbvmN-VE4bgFA_ATL1ipWOlnw_PnOAm_P_1ZiK9zE5aWuPP95ly4MmcF_____wAAAAEAAAAAAAAAAAAAAAEAAAAx6CnY2lQL46AQabjpfClo6skvqn4_i2NePuym0r8YH9cYs0lxlCK_KCCM-NoSaL7KbKNlop2EOF-CzlljrF9cXRcAZzBlAjEAxUyGBX5B6bbxosnmI7G6nJJuv0vCMtUXXZ4eg-ZIvUo7ZvtAZIOr0e8LuoSbq4yQAjAC9_4WAPF9MO4vHMgQCdI8rv28PADaxcngTj20PcG0O1gU1cEquGafwG4BaHoIQSk=<</CIPHER>>
---
bfd: 
  ${env}:
    common:
      env_name_std: ${env}
      new_relic_metric_host: &newRelicMetricHost https://gov-metric-api.newrelic.com
      new_relic_metric_path: &newRelicMetricPath /metric/v1
      rds_backup_retention_period: 1
      rds_cluster_identifier: bfd-${env}-aurora-cluster
      rds_iam_database_authentication_enabled: true
      rds_instance_count: 1
    migrator:
      instance_type: m6a.large
      volume_iops: 3000
      volume_size: 100
      volume_throughput: 125
      volume_type: gp3
      sqs_queue_name: bfd-${env}-migrator
      new_relic_metric_host: *newRelicMetricHost
      new_relic_metric_path: *newRelicMetricPath
    pipeline:
      shared:
        # NOTE: At the time of this writing, there is less emphasis on pipeline instances in ephemeral environments
        bfd_pipeline_dir: &bfdPipelineDir /bluebutton-data-pipeline
        data_pipeline_dir: *bfdPipelineDir
        data_pipeline_new_relic_metric_host: *newRelicMetricHost
        data_pipeline_new_relic_metric_path: *newRelicMetricPath
        data_pipeline_user: bb-etl
        data_pipeline_micrometer_cw_enabled: false
        data_pipeline_micrometer_cw_namespace: bfd-${env}/bfd-pipeline
        data_pipeline_micrometer_cw_interval: PT1M
      ccw:
        data_pipeline_rda_job_enabled: false # RDA Jobs are disabled by default on CCW Pipelines
        data_pipeline_ccw_rif_job_enabled: false
        data_pipeline_idempotency_required: true
        instance_type: c6a.4xlarge
        rif_job_batch_size: 7
        rif_job_queue_size_multiple: 5
        rif_thread_multiple: 3
        rif_job_batch_size_claims: 100
        rif_job_queue_size_multiple_claims: 10
        rif_thread_multiple_claims: 25
        slis_repeater_lambda_invoke_rate: 15 minutes
      rda:
        ## PIPELINE RDA
        grpc:
          host: &rda_grpc_host <<CIPHER>>AgV4VpH2Q6vfHPngfuz6idL0o8skB19EUCTxsmey_xMR5UcAdAACAAtBcHBsaWNhdGlvbgAGY2lwaGVyABVhd3MtY3J5cHRvLXB1YmxpYy1rZXkAREEyRE94Qk44YUVUcENWTXRUeWd1TVNiN0hHc2VYNmJOTStRbUpzQ0VWaHJVUzRMZGp6VnV6b3VYKzV6TU15Y1RlQT09AAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLWVhc3QtMTo1NzczNzM4MzE3MTE6a2V5L21yay0xNWZhNGU2MzcxOTI0YmZmYTk3NjRjMjE4ZjdhNzY3YQC4AQIBAHic22-xSw25t2N5FjIsl0BfswHAJC80QDtF4qY0HagMgAG9gPOqv3QLMUvBCkOSFFX_AAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMahnoHKDEmgLyWcK9AgEQgDva8e_m3h7hLT6ozNCI7ww8l6ywUqkUOMIdai7CLTsd-AB_17o-8woxI4d2Ck6Ugg-PV5hqWIEMDM4LvwIAABAAEgsZb0tC6HclqvpTpF0UehRz7VfWiapvBG4IUVE9Q68L-Omw4iYokA-qyuqUPwTp_____wAAAAEAAAAAAAAAAAAAAAEAAAAVh1RvOpC2KnzBICGdnHImRtH8hN-PSz9YCRtPCUpfRl0k6t5E1ABnMGUCMC9qmO0Er6yahboE3s-p7xl2PRgDEAARIpqzl4abfxN8B3O0I4JD93lbYfO3wiqwTwIxAKEBg4lO71XqC3bk0_EuD28s1W-qAvixSOlKp9B8Hc0wsKqeY4BaEc_rpjTysMgBoQ==<</CIPHER>>
          port: &rda_grpc_port <<CIPHER>>AgV4GXc0_M1Asv3hrE35wGnyMjEWICpFqhyVqqG5bGW8RyAAdAACAAtBcHBsaWNhdGlvbgAGY2lwaGVyABVhd3MtY3J5cHRvLXB1YmxpYy1rZXkAREFtL0tocVlzeFU2M2x2VUVkb3B1ZzJVVDdWc1FSaTlNMk1VMERSaXhoMmdJSHZRNUpqRjdnd0FFYWQxQ014V1BtUT09AAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLWVhc3QtMTo1NzczNzM4MzE3MTE6a2V5L21yay0xNWZhNGU2MzcxOTI0YmZmYTk3NjRjMjE4ZjdhNzY3YQC4AQIBAHic22-xSw25t2N5FjIsl0BfswHAJC80QDtF4qY0HagMgAFeEsXGpOhzdQbwTH1WZgtQAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMq-BOX8MzDuHnB4bFAgEQgDti6gE8x0oSnghkDRXzK55pUfqQTt4MRQMmOcclVOkFzBkQBdL1e1vUDTAmd7jLwIc7jkH2kibqf5lTJAIAABAA2MrJmUhk_PrdxYbOabWlnhnLSqtCWY1Ao1A-DZidMxp6acls0D-mCPPBpheOYZBd_____wAAAAEAAAAAAAAAAAAAAAEAAAADhHYNlVwNpdri6_wIWYSJ1RM3ZABnMGUCMQDVVk1p3NdJYUUR-n408jS0_78SpGUc4NQVRfz5LOML68i-JVotG4wyHxdQiuQ6nJsCMCXzXx2IxbeVYme0cC3OxtIK1aB1-x16dMQvcEFP_e3HBH0Dc5DHmPvxGZc2uLLFTw==<</CIPHER>>
          auth_token: &rda_grpc_auth_token <<CIPHER>>AgV4pXYayDryoVs5gokQjd_90ef6bc9Si_1c_DalBqcVt-MAdAACAAtBcHBsaWNhdGlvbgAGY2lwaGVyABVhd3MtY3J5cHRvLXB1YmxpYy1rZXkAREF4RzErckZFbnhzdEowWlVETG1UM1V0WHNkdU5Xem9ZcWs4cVVSUzNEdUp1QXRHOTJucWF4YzlpY2VobDhvZEc3Zz09AAEAB2F3cy1rbXMAS2Fybjphd3M6a21zOnVzLWVhc3QtMTo1NzczNzM4MzE3MTE6a2V5L21yay0xNWZhNGU2MzcxOTI0YmZmYTk3NjRjMjE4ZjdhNzY3YQC4AQIBAHic22-xSw25t2N5FjIsl0BfswHAJC80QDtF4qY0HagMgAGZfpOZqdWr7_8bYIudeaFAAAAAfjB8BgkqhkiG9w0BBwagbzBtAgEAMGgGCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMbhU-i516T1PjeeOmAgEQgDvW6IS9mnX8CT8a6JmtzEs-v_Hn5EQ2JXxJT-Fpgq2MY2D7qRi11l0TTEEKl-ba--uZlbnH3gXSc7Uv5AIAABAAjguLflxal9ltby3HZAinDe33eGfjrEggE5kPCdiFLi38qbsHWHryEM0MaDUktmCe_____wAAAAEAAAAAAAAAAAAAAAEAAAH_9sdnIOfkm_V_UmCiAsYoa3TjmyP-eTjGEsqX4HNZ6_m1ID3kGFIOCSAjLi3P2bd3_gWIhW502U6buB9CMVoepKYcPsA1ze7e4KodTGWpkw1rTRWGDKGUFiebkS3idnsLBiTat6yFFrWiw7NyU4vCg9-_7a56iXHwV2YwwPnneF-zO69IbbH6SFw-iwKIBBBfbmj3sFOA2HpAAmtHs9y4Oh_nBJJsCKQGdgaj5cukbBa7eyK6vU0DL7glw2swNK_9pdKq_R4J0dvVCI02jE-ZTgdcZgUanBDY5Q9iSeBhdnWuJZxsm1JD0SYIhTGiV-3tL-D6CN64I8esdtKHOydCawrwQSL5yWK_vV6PEyN9qdJqi75GeDKJGj12ETvB77RE-46VuaGpHQSna_JON9t1lWsjsOqzs2BJt9dSUjIAri-Z99GP9-q-3GxfpWB2cCzF-dl3DrZbaI6Y3z1-zH1W0PO6P6NgLT9LPhaRLgfLHd1vnOfJ_YNeLkY_HJRNeFvlWL3oDe1PYhVx5zpgpQEtUbscXMmDlGhZhWrWsKSjgDdxo2KZecSCqqoa6cSsFCwskLRMp7bR5JSFxRVjgbAtRGwF1XCVQtKaIREKZqLQ9kLQu4eCP9RzJyoW7Jv3BNQDErOZzvBWv8W1bPMiUJhDAhnZIZ43W5jeKPMzkNERHHyTjD3yd6Pt-ke4KGh2nV4AZzBlAjEAhRtHw7uQv3qZyPswHHCr8Vzq7bgYdVt_M2CIKapa9lf_6_8NKkHW0vKZN2RVjoOrAjAbaDgFK6Nlrtpy7WNEy1J6QKtKrLdRdtByOE1EonnZxp_3flOU-llLNKj4D1zp9u0=<</CIPHER>>
          inprocess_server:
            mode: UNDEFINED
            s3:
              region: us-east-1
              bucket:
              dir:
        job:
          enabled: true
          process_dlq: &rda_job_process_dlq true
          starting_fiss_seq_num: 0
          starting_mcs_seq_num: 0
        cleanup:
          enabled: false
          run_size: UNDEFINED
          transaction_size: UNDEFINED
        data_pipeline_ccw_rif_job_enabled: false # CCW Jobs are disabled by default on RDA Pipelines
        data_pipeline_rda_grpc_auth_token: *rda_grpc_auth_token
        data_pipeline_rda_grpc_host: *rda_grpc_host
        data_pipeline_rda_grpc_port: *rda_grpc_port
        data_pipeline_rda_job_enabled: true
        data_pipeline_rda_process_dlq: *rda_job_process_dlq
        instance_type: m6a.large
        # Excluded, if temporarily, from this configuration. Yielding to ansible role defaults at this time if possible.
        # data_pipeline_rda_grpc_max_idle_seconds: 600
        # data_pipeline_rda_grpc_server_type: 'Remote'
        # data_pipeline_rda_job_batch_size: 20
        # data_pipeline_rda_job_interval_seconds: 3600
        # data_pipeline_rda_job_starting_fiss_seq_num: 0
        # data_pipeline_rda_job_starting_mcs_seq_num: 0
        # data_pipeline_rda_job_write_threads: 5
        # ALWAYS excluded from parameter store. Only valid when data_pipeline_rda_grpc_server_type is InProcess
        # data_pipeline_rda_grpc_inproc_server_mode: ''
        # data_pipeline_rda_grpc_inproc_server_s3_bucket: ''
        # data_pipeline_rda_grpc_inproc_server_s3_directory: ''
        # data_pipeline_rda_grpc_inproc_server_s3_region: ''
    server:
      data_server_dir: /usr/local/bfd-server
      data_server_new_relic_metric_host: *newRelicMetricHost
      data_server_new_relic_metric_path: *newRelicMetricPath
      pac_resources_enabled: true
      pac_claim_source_types: fiss,mcs
      lb_is_public: false
      lb_ingress_port: 443
      lb_egress_port: 7443
      launch_template_volume_iops: 3000
      launch_template_volume_throughput: 125
      launch_template_volume_type: gp3
      # NOTE: lb_vpc_peerings_json stores a json string that will be decoded within the server
      # Terraservice into a list. The ephemeral variant is purposefully empty to ensure there are no
      # peerings to ephemeral environments
      lb_vpc_peerings_json: >-
        []
