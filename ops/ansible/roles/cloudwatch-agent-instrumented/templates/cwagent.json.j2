{
  "metrics": {
    "append_dimensions": {
      "InstanceId": "${aws:InstanceId}",
      "AutoScalingGroupName": "${aws:AutoScalingGroupName}",
      "Environment": "{{ env }}"
    },
    "aggregation_dimensions" : [["AutoScalingGroupName", "Environment"]],
    "metrics_collected": {
      "cpu": {
        "measurement": [
          "usage_active" ,
          "usage_idle",
          "usage_iowait",
          "usage_system",
          "usage_user"
        ]
      },
      "disk": {
        "measurement": [
          "free",
          "inodes_free",
          "inodes_total",
          "total",
          "used_percent",
          "used"
        ]
      },
      "diskio": {
        "measurement": [
          "io_time",
          "reads_bytes",
          "reads_time",
          "reads",
          "writes_bytes",
          "writes_time",
          "writes"
        ]
      },
      "mem": {
        "measurement": [
          "active",
          "available_percent",
          "buffered",
          "cached",
          "free",
          "inactive",
          "total",
          "used_percent",
          "used"
        ]
      },
      "processes": {
        "measurement": [
          "blocked",
          "dead",
          "idle",
          "paging",
          "running",
          "sleeping",
          "stopped",
          "total_threads",
          "total",
          "wait",
          "zombies"
        ]
      },
      "swap": {
        "measurement": [
          "free",
          "used_percent",
          "used"
        ]
      }
    }
  }
}